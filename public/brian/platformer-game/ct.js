(function() {
/*! Made with ct.js http://ctjs.rocks/ */
const deadPool=[],copyTypeSymbol=Symbol("I am a ct.js copy");setInterval((function(){deadPool.length=0}),6e4);const ct={speed:60,types:{},snd:{},stack:[],fps:60,delta:1,deltaUi:1,camera:null,version:"1.7.0",meta:{name:"Platformer complete tutorial",author:"Cosmo Myzrail Gorynych",site:"https://ctjs.rocks/",version:"0.0.0"},main:{fpstick:0,pi:0},get width(){return ct.pixiApp.renderer.view.width},set width(e){return ct.camera.width=ct.roomWidth=e,ct.fittoscreen&&"fastScale"!==ct.fittoscreen.mode||ct.pixiApp.renderer.resize(e,ct.height),ct.fittoscreen&&ct.fittoscreen(),e},get height(){return ct.pixiApp.renderer.view.height},set height(e){return ct.camera.height=ct.roomHeight=e,ct.fittoscreen&&"fastScale"!==ct.fittoscreen.mode||ct.pixiApp.renderer.resize(ct.width,e),ct.fittoscreen&&ct.fittoscreen(),e},get viewWidth(){return ct.camera.width},get viewHeight(){return ct.camera.height}};console.log(`%c ðŸ˜º %c ct.js game editor %c v${ct.version} %c https://ctjs.rocks/ `,"background: #446adb; color: #fff; padding: 0.5em 0;","background: #5144db; color: #fff; padding: 0.5em 0;","background: #446adb; color: #fff; padding: 0.5em 0;","background: #5144db; color: #fff; padding: 0.5em 0;"),ct.highDensity=!0;const pixiAppSettings={width:1024,height:576,antialias:!0,powerPreference:"high-performance",sharedTicker:!0,sharedLoader:!0};try{ct.pixiApp=new PIXI.Application(pixiAppSettings)}catch(e){console.error(e),console.warn("[ct.js] Something bad has just happened. This is usually due to hardware problems. I'll try to fix them now, but if the game still doesn't run, try including a legacy renderer in the project's settings."),PIXI.settings.SPRITE_MAX_TEXTURES=Math.min(PIXI.settings.SPRITE_MAX_TEXTURES,16),ct.pixiApp=new PIXI.Application(pixiAppSettings)}PIXI.settings.ROUND_PIXELS=!1,PIXI.Ticker.shared.maxFPS=60,ct.pixiApp.renderer.options.antialias||(PIXI.settings.SCALE_MODE=PIXI.SCALE_MODES.NEAREST),ct.stage=ct.pixiApp.stage,ct.pixiApp.renderer.autoDensity=ct.highDensity,document.getElementById("ct").appendChild(ct.pixiApp.view),ct.u={ldx:(e,t)=>e*Math.cos(t*Math.PI/-180),ldy:(e,t)=>e*Math.sin(t*Math.PI/-180),pdn:(e,t,s,o)=>(-180*Math.atan2(o-t,s-e)/Math.PI+360)%360,pdc:(e,t,s,o)=>Math.sqrt((s-e)*(s-e)+(o-t)*(o-t)),degToRad:e=>e*Math.PI/-180,radToDeg:e=>e/Math.PI*-180,rotate:(e,t,s)=>ct.u.rotateRad(e,t,ct.u.degToRad(s)),rotateRad(e,t,s){const o=Math.sin(s),y=Math.cos(s);return[y*e-o*t,y*t+o*e]},deltaDir(e,t){var s=(t=(t%360+360)%360)-(e=(e%360+360)%360);return s>180&&(s-=360),s<-180&&(s+=360),s},clamp:(e,t,s)=>Math.max(e,Math.min(s,t)),lerp:(e,t,s)=>e+(t-e)*s,unlerp:(e,t,s)=>(s-e)/(t-e),map:(e,t,s,o,y)=>(e-t)*(y-o)/(s-t)+o,uiToGameCoord:(e,t)=>ct.camera.uiToGameCoord(e,t),gameToUiCoord:(e,t)=>ct.camera.gameToUiCoord(e,t),hexToPixi:e=>Number("0x"+e.slice(1)),pixiToHex:e=>"#"+e.toString(16).padStart(6,0),prect(e,t,s){var o,y,c,x;return s.splice?(o=Math.min(s[0],s[2]),y=Math.max(s[0],s[2]),c=Math.min(s[1],s[3]),x=Math.max(s[1],s[3])):(o=s.x-s.shape.left*s.scale.x,y=s.x+s.shape.right*s.scale.x,c=s.y-s.shape.top*s.scale.y,x=s.y+s.shape.bottom*s.scale.y),e>=o&&t>=c&&e<=y&&t<=x},pcircle:(e,t,s)=>s.splice?ct.u.pdc(e,t,s[0],s[1])<s[2]:ct.u.pdc(0,0,(s.x-e)/s.scale.x,(s.y-t)/s.scale.y)<s.shape.r,ext(e,t,s){if(s)for(const o in s)t[s[o]]&&(e[s[o]]=t[s[o]]);else for(const s in t)e[s]=t[s];return e},load(e,t){var s=document.createElement("script");s.src=e,t&&(s.onload=t),document.getElementsByTagName("head")[0].appendChild(s)},wait:e=>ct.timer.add(e),waitUi:e=>ct.timer.addUi(e)},ct.u.ext(ct.u,{lengthDirX:ct.u.ldx,lengthDirY:ct.u.ldy,pointDirection:ct.u.pdn,pointDistance:ct.u.pdc,pointRectangle:ct.u.prect,pointCircle:ct.u.pcircle,extend:ct.u.ext}),(()=>{const e=t=>{t.kill=!0,t.onDestroy&&(ct.types.onDestroy.apply(t),t.onDestroy.apply(t));for(const s of t.children)s[copyTypeSymbol]&&e(s);const s=ct.stack.indexOf(t);if(-1!==s&&ct.stack.splice(s,1),t.type){const e=ct.types.list[t.type].indexOf(t);-1!==e&&ct.types.list[t.type].splice(e,1)}deadPool.push(t)};ct.loop=function(t){ct.delta=t,ct.deltaUi=PIXI.Ticker.shared.elapsedMS/(1e3/(PIXI.Ticker.shared.maxFPS||60)),ct.inputs.updateActions(),ct.timer.updateTimers(),ct.place.debugTraceGraphics.clear();for(let e=0,t=ct.stack.length;e<t;e++)ct.types.beforeStep.apply(ct.stack[e]),ct.stack[e].onStep.apply(ct.stack[e]),ct.types.afterStep.apply(ct.stack[e]);for(const e of ct.stage.children)e instanceof Room&&(ct.rooms.beforeStep.apply(e),e.onStep.apply(e),ct.rooms.afterStep.apply(e));for(const t of ct.stack)t.kill&&!t._destroyed&&(e(t),t.destroy({children:!0}));for(const e of ct.stage.children)e.children.sort(((e,t)=>(e.depth||0)-(t.depth||0)||(e.uid||0)-(t.uid||0)||0));ct.camera&&(ct.camera.update(ct.delta),ct.camera.manageStage());for(let e=0,t=ct.stack.length;e<t;e++)ct.types.beforeDraw.apply(ct.stack[e]),ct.stack[e].onDraw.apply(ct.stack[e]),ct.types.afterDraw.apply(ct.stack[e]),ct.stack[e].xprev=ct.stack[e].x,ct.stack[e].yprev=ct.stack[e].y;for(const e of ct.stage.children)e instanceof Room&&(ct.rooms.beforeDraw.apply(e),e.onDraw.apply(e),ct.rooms.afterDraw.apply(e));ct.main.fpstick++,ct.rooms.switching&&ct.rooms.forceSwitch()}})();class CtAction{constructor(e){return this.name=e,this.methodCodes=[],this.methodMultipliers=[],this.prevValue=0,this.value=0,this}methodExists(e){return-1!==this.methodCodes.indexOf(e)}addMethod(e,t){if(-1!==this.methodCodes.indexOf(e))throw new Error(`[ct.inputs] An attempt to add an already added input "${e}" to an action "${name}".`);this.methodCodes.push(e),this.methodMultipliers.push(void 0!==t?t:1)}removeMethod(e){const t=this.methodCodes.indexOf(e);-1!==t&&(this.methodCodes.splice(t,1),this.methodMultipliers.splice(t,1))}setMultiplier(e,t){const s=this.methodCodes.indexOf(e);-1!==s?this.methodMultipliers[s]=t:(console.warning(`[ct.inputs] An attempt to change multiplier of a non-existent method "${e}" at event ${this.name}`),console.trace())}update(){this.prevValue=this.value,this.value=0;for(let e=0,t=this.methodCodes.length;e<t;e++){const t=ct.inputs.registry[this.methodCodes[e]]||0;this.value+=t*this.methodMultipliers[e]}this.value=Math.max(-1,Math.min(this.value,1))}reset(){this.prevValue=this.value=0}get pressed(){return 0===this.prevValue&&0!==this.value}get released(){return 0!==this.prevValue&&0===this.value}get down(){return 0!==this.value}}ct.actions={},ct.inputs={registry:{},addAction(e,t){if(e in ct.actions)throw new Error(`[ct.inputs] An action "${e}" already exists, can't add a new one with the same name.`);const s=new CtAction(e);for(const e of t)s.addMethod(e.code,e.multiplier);return ct.actions[e]=s,s},removeAction(e){delete ct.actions[e]},updateActions(){for(const e in ct.actions)ct.actions[e].update()}},ct.inputs.addAction("MoveRight",[{code:"keyboard.KeyD"},{code:"keyboard.ArrowRight"}]),ct.inputs.addAction("Jump",[{code:"keyboard.KeyW"},{code:"keyboard.Space"},{code:"keyboard.ArrowUp"}]),ct.inputs.addAction("MoveLeft",[{code:"keyboard.KeyA"},{code:"keyboard.ArrowLeft"}]),function(ct){const e=0*Math.PI;var t=function(t){const{shape:s}=t,o=new SSCD.Vector(t.x,t.y);if("rect"===s.type){if(0===t.rotation)return o.x-=t.scale.x>0?s.left*t.scale.x:-t.scale.x*s.right,o.y-=t.scale.y>0?s.top*t.scale.y:-s.bottom*t.scale.y,new SSCD.Rectangle(o,new SSCD.Vector(Math.abs((s.left+s.right)*t.scale.x),Math.abs((s.bottom+s.top)*t.scale.y)));const e=ct.u.rotate(-s.left*t.scale.x,-s.top*t.scale.y,t.rotation),y=ct.u.rotate(-s.left*t.scale.x,s.bottom*t.scale.y,t.rotation),c=ct.u.rotate(s.right*t.scale.x,s.bottom*t.scale.y,t.rotation),x=ct.u.rotate(s.right*t.scale.x,-s.top*t.scale.y,t.rotation);return new SSCD.LineStrip(o,[new SSCD.Vector(e[0],e[1]),new SSCD.Vector(y[0],y[1]),new SSCD.Vector(c[0],c[1]),new SSCD.Vector(x[0],x[1])],!0)}if("circle"===s.type){if(Math.abs(t.scale.x)===Math.abs(t.scale.y))return new SSCD.Circle(o,s.r*Math.abs(t.scale.x));const y=[];for(let o=0;o<16;o++){const c=[Math.sin(e/16*o)*s.r*t.scale.x,Math.cos(e/16*o)*s.r*t.scale.y];0!==t.rotation?y.push(ct.u.rotate(c[0],c[1],t.rotation)):y.push(c)}return new SSCD.LineStrip(o,y,!0)}if("strip"===s.type){const e=[];if(0!==t.rotation)for(const o of s.points){const[s,y]=ct.u.rotate(o.x*t.scale.x,o.y*t.scale.y,t.rotation);e.push(new SSCD.Vector(s,y))}else for(const o of s.points)e.push(new SSCD.Vector(o.x*t.scale.x,o.y*t.scale.y));return new SSCD.LineStrip(o,e,Boolean(s.closedStrip))}return"line"===s.type?new SSCD.Line(new SSCD.Vector(t.x+s.x1*t.scale.x,t.y+s.y1*t.scale.y),new SSCD.Vector((s.x2-s.x1)*t.scale.x,(s.y2-s.y1)*t.scale.y)):new SSCD.Circle(o,0)};ct.place={m:1,gridX:512,gridY:512,grid:{},tileGrid:{},getHashes(e){var t=[],s=Math.round(e.x/ct.place.gridX),o=Math.round(e.y/ct.place.gridY),y=Math.sign(e.x-ct.place.gridX*s),c=Math.sign(e.y-ct.place.gridY*o);return t.push(`${s}:${o}`),y&&(t.push(`${s+y}:${o}`),c&&t.push(`${s+y}:${o+c}`)),c&&t.push(`${s}:${o+c}`),t},drawDebugGraphic(e){const s=this._shape||t(this),o=this.$cDebugCollision;let y=this instanceof Copy?26367:65535;if(this.$cHadCollision&&(y=65280),o.lineStyle(2,y),s instanceof SSCD.Rectangle){const t=s.get_position(),c=s.get_size();o.beginFill(y,.1),e?o.drawRect(t.x,t.y,c.x,c.y):o.drawRect(t.x-this.x,t.y-this.y,c.x,c.y),o.endFill()}else if(s instanceof SSCD.LineStrip)if(e){o.moveTo(s.__points[0].x+this.x,s.__points[0].y+this.y);for(let e=1;e<s.__points.length;e++)o.lineTo(s.__points[e].x+this.x,s.__points[e].y+this.y)}else{o.moveTo(s.__points[0].x,s.__points[0].y);for(let e=1;e<s.__points.length;e++)o.lineTo(s.__points[e].x,s.__points[e].y)}else if(s instanceof SSCD.Circle&&s.get_radius()>0)o.beginFill(y,.1),e?o.drawCircle(this.x,this.y,s.get_radius()):o.drawCircle(0,0,s.get_radius()),o.endFill();else if(s instanceof SSCD.Line)if(e){const e=s.get_p1(),t=s.get_p2();o.moveTo(e.x,e.y).lineTo(t.x,t.y)}else o.moveTo(s.__position.x,s.__position.y).lineTo(s.__position.x+s.__dest.x,s.__position.y+s.__dest.y);else e?o.moveTo(-16+this.x,-16+this.y).lineTo(16+this.x,16+this.y).moveTo(-16+this.x,16+this.y).lineTo(16+this.x,-16+this.y):o.moveTo(-16,-16).lineTo(16,16).moveTo(-16,16).lineTo(16,-16)},drawDebugTileGraphic(e){const t=10053375;this.$cDebugCollision.lineStyle(2,t).beginFill(t,.1).drawRect(e.x-this.x,e.y-this.y,e.width,e.height).endFill()},collide(e,s){if(e._shape=e._shape||t(e),s._shape=s._shape||t(s),"complex"===e._shape.__type||"strip"===s._shape.__type||"complex"===s._shape.__type||"strip"===s._shape.__type){const t=e._shape.get_aabb(),o=s._shape.get_aabb();if(!t.intersects(o))return!1}return!!SSCD.CollisionManager.test_collision(e._shape,s._shape)},occupied(e,s,o,y,c){var x=e.x,i=e.y,p=e._shape;let a;var r;"number"==typeof o?(e.x=s,e.y=o):(y=s,c=o,s=e.x,o=e.y),"boolean"==typeof y&&(c=y),x!==e.x||i!==e.y?(e._shape=t(e),a=ct.place.getHashes(e)):a=e.$chashes||ct.place.getHashes(e),c&&(r=[]);for(const t of a){const s=ct.place.grid[t];if(s)for(let t=0,o=s.length;t<o;t++)if(s[t]!==e&&(!y||s[t].$ctype===y)&&ct.place.collide(e,s[t])){if(!c)return x===e.x&&i===e.y||(e.x=x,e.y=i,e._shape=p),s[t];r.includes(s[t])||r.push(s[t])}}return x===e.x&&i===e.y||(e.x=x,e.y=i,e._shape=p),!!c&&r},free:(e,t,s,o)=>!ct.place.occupied(e,t,s,o),meet(e,s,o,y,c){var x=e.x,i=e.y,p=e._shape;let a;var r;"number"==typeof o?(e.x=s,e.y=o):(y=s,c=o,s=e.x,o=e.y),"boolean"==typeof y&&(c=y),x!==e.x||i!==e.y?(e._shape=t(e),a=ct.place.getHashes(e)):a=e.$chashes||ct.place.getHashes(e),c&&(r=[]);for(const t of a){const s=ct.place.grid[t];if(s)for(let t=0,o=s.length;t<o;t++)if(s[t].type===y&&s[t]!==e&&ct.place.collide(e,s[t])){if(!c)return x===e.x&&i===e.y||(e._shape=p,e.x=x,e.y=i),s[t];r.includes(s[t])||r.push(s[t])}}return x===e.x&&i===e.y||(e.x=x,e.y=i,e._shape=p),!!c&&r},tile(e,s,o,y){if(!e.shape||!e.shape.type)return!1;var c=e.x,x=e.y,i=e._shape;let p;void 0!==o?(e.x=s,e.y=o):(y=s,s=e.x,o=e.y),c!==e.x||x!==e.y?(e._shape=t(e),p=ct.place.getHashes(e)):p=e.$chashes||ct.place.getHashes(e);for(const t of p){const s=ct.place.tileGrid[t];if(s)for(let t=0,o=s.length;t<o;t++){const o=s[t],p="string"==typeof y?o.ctype===y:o.depth===y;if((!y||p)&&ct.place.collide(o,e))return c===e.x&&x===e.y||(e.x=c,e.y=x,e._shape=i),!0}}return c===e.x&&x===e.y||(e.x=c,e.y=x,e._shape=i),!1},lastdist:null,nearest(e,t,s){if(ct.types.list[s].length>0){var o=Math.hypot(e-ct.types.list[s][0].x,t-ct.types.list[s][0].y),y=ct.types.list[s][0];for(const c of ct.types.list[s])Math.hypot(e-c.x,t-c.y)<o&&(o=Math.hypot(e-c.x,t-c.y),y=c);return ct.place.lastdist=o,y}return!1},furthest(e,t,s){if(ct.types.list[s].length>0){var o=Math.hypot(e-ct.types.list[s][0].x,t-ct.types.list[s][0].y),y=ct.types.list[s][0];for(const c of ct.types.list[s])Math.hypot(e-c.x,t-c.y)>o&&(o=Math.hypot(e-c.x,t-c.y),y=c);return ct.place.lastdist=o,y}return!1},enableTilemapCollisions(e,t){const s=t||e.ctype;if(e.addedCollisions)throw new Error("[ct.place] The tilemap already has collisions enabled.");for(let t=0,o=e.tiles.length;t<o;t++){const o=e.tiles[t];o._shape=new SSCD.Rectangle(new SSCD.Vector(o.x,o.y),new SSCD.Vector(o.width,o.height)),o.ctype=s,o.$chashes=ct.place.getHashes(o);for(const e of o.$chashes)e in ct.place.tileGrid?ct.place.tileGrid[e].push(o):ct.place.tileGrid[e]=[o];o.depth=e.depth}e.addedCollisions=!0},moveAlong(e,t,s,o,y){"number"==typeof o&&(y=o,o=void 0),y=Math.abs(y||1),s<0&&(s*=-1,t+=180);var c=Math.cos(t*Math.PI/-180)*y,x=Math.sin(t*Math.PI/-180)*y;for(let t=0;t<s;t+=y){const t=ct.place.occupied(e,e.x+c,e.y+x,o)||ct.place.tile(e,e.x+c,e.y+x,o);if(t)return t;e.x+=c,e.y+=x,delete e._shape}return!1},moveByAxes(e,t,s,o,y){"number"==typeof o&&(y=o,o=void 0);const c={x:!1,y:!1};for(y=Math.abs(y||1);Math.abs(t)>y;){const s=ct.place.occupied(e,e.x+Math.sign(t)*y,e.y,o)||ct.place.tile(e,e.x+Math.sign(t)*y,e.y,o);if(s){c.x=s;break}e.x+=Math.sign(t)*y,t-=Math.sign(t)*y}for(;Math.abs(s)>y;){const t=ct.place.occupied(e,e.x,e.y+Math.sign(s)*y,o)||ct.place.tile(e,e.x,e.y+Math.sign(s)*y,o);if(t){c.y=t;break}e.y+=Math.sign(s)*y,s-=Math.sign(s)*y}return Math.abs(t)<y&&ct.place.free(e,e.x+t,e.y,o)&&!ct.place.tile(e,e.x+t,e.y,o)&&(e.x+=t),Math.abs(s)<y&&ct.place.free(e,e.x,e.y+s,o)&&!ct.place.tile(e,e.x,e.y+s,o)&&(e.y+=s),!(!c.x&&!c.y)&&c},go(e,t,s,o,y){if(ct.u.pdc(e.x,e.y,t,s)<o)return void(ct.place.free(e,t,s,y)&&(e.x=t,e.y=s,delete e._shape));var c=ct.u.pdn(e.x,e.y,t,s);let x=e.x+ct.u.ldx(o,c),i=e.y+ct.u.ldy(o,c);if(ct.place.free(e,x,i,y))e.x=x,e.y=i,delete e._shape,e.dir=c;else for(var p=-1;p<=1;p+=2)for(var a=30;a<150;a+=30)if(x=e.x+ct.u.ldx(o,c+a*ct.place.m*p),i=e.y+ct.u.ldy(o,c+a*ct.place.m*p),ct.place.free(e,x,i,y))return e.x=x,e.y=i,delete e._shape,void(e.dir=c+a*ct.place.m*p)},traceCustom(e,t,s,o){const y=[];if(!t)return ct.place.occupied(e,s,o);for(var c in ct.stack)if((!s||ct.stack[c].ctype===s)&&ct.place.collide(e,ct.stack[c])){if(!o)return ct.stack[c];y.push(ct.stack[c])}return y},traceLine(e,t,s){let o=!1;(Math.abs(e.x1-e.x2)>ct.place.gridX||Math.abs(e.y1-e.y2)>ct.place.gridY)&&(o=!0);const y={x:e.x1,y:e.y1,scale:{x:1,y:1},rotation:0,shape:{type:"line",x1:0,y1:0,x2:e.x2-e.x1,y2:e.y2-e.y1}},c=ct.place.traceCustom(y,o,t,s);return s&&c.sort((function(t,s){return ct.u.pdc(e.x1,e.y1,t.x,t.y)-ct.u.pdc(e.x1,e.y1,s.x,s.y)})),c},traceRect(e,t,s){let o=!1;"x1"in(e={...e})&&(e.x=e.x1,e.y=e.y1,e.width=e.x2-e.x1,e.height=e.y2-e.y1),(Math.abs(e.width)>ct.place.gridX||Math.abs(e.height)>ct.place.gridY)&&(o=!0);const y={x:e.x,y:e.y,scale:{x:1,y:1},rotation:0,shape:{type:"rect",left:0,top:0,right:e.width,bottom:e.height}};return ct.place.traceCustom(y,o,t,s)},traceCircle(e,t,s){let o=!1;(2*e.radius>ct.place.gridX||2*e.radius>ct.place.gridY)&&(o=!0);const y={x:e.x,y:e.y,scale:{x:1,y:1},rotation:0,shape:{type:"circle",r:e.radius}};return ct.place.traceCustom(y,o,t,s)},tracePolyline(e,t,s){const o={x:0,y:0,scale:{x:1,y:1},rotation:0,shape:{type:"strip",points:e}};return ct.place.traceCustom(o,!0,t,s)},tracePoint(e,t,s){const o={x:e.x,y:e.y,scale:{x:1,y:1},rotation:0,shape:{type:"point"}};return ct.place.traceCustom(o,!1,t,s)},trace:(e,t,s,o,y)=>ct.place.traceLine({x1:e,y1:t,x2:s,y2:o},y,!0)},ct.place.traceRectange=ct.place.traceRect,setInterval((function(){ct.place.m*=-1}),789)}(ct),ct.tween={add(e){var t={obj:e.obj,fields:e.fields||{},curve:e.curve||ct.tween.ease,duration:e.duration||1e3,timer:new CtTimer(this.duration,!1,e.useUiDelta||!1)},s=new Promise(((e,s)=>{for(var o in t.resolve=e,t.reject=s,t.starting={},t.fields)t.starting[o]=t.obj[o]||0;ct.tween.tweens.push(t)}));return e.silent&&(s.catch((()=>{})),t.timer.catch((()=>{}))),s.stop=function(){t.reject({code:0,info:"Stopped by game logic",from:"ct.tween"})},s},linear:(e,t,s)=>t*s+e,ease:(e,t,s)=>(s*=2)<1?t/2*s*s+e:-t/2*(--s*(s-2)-1)+e,easeInQuad:(e,t,s)=>t*s*s+e,easeOutQuad:(e,t,s)=>-t*s*(s-2)+e,easeInCubic:(e,t,s)=>t*s*s*s+e,easeOutCubic:(e,t,s)=>t*(--s*s*s+1)+e,easeInOutCubic:(e,t,s)=>(s*=2)<1?t/2*s*s*s+e:t/2*((s-=2)*s*s+2)+e,easeInOutQuart:(e,t,s)=>(s*=2)<1?t/2*s*s*s*s+e:-t/2*((s-=2)*s*s*s-2)+e,easeInQuart:(e,t,s)=>t*s*s*s*s+e,easeOutQuart:(e,t,s)=>-t*(--s*s*s*s-1)+e,easeInCirc:(e,t,s)=>-t*(Math.sqrt(1-s*s)-1)+e,easeOutCirc:(e,t,s)=>(s--,t*Math.sqrt(1-s*s)+e),easeInOutCirc:(e,t,s)=>(s*=2)<1?-t/2*(Math.sqrt(1-s*s)-1)+e:(s-=2,t/2*(Math.sqrt(1-s*s)+1)+e),easeInBack(e,t,s){const o=1.70158;return t*(2.70158*s*s*s-o*s*s)+e},easeOutBack(e,t,s){const o=1.70158;return t*(1+2.70158*(s-1)**3+o*(s-1)**2)+e},easeInOutBack(e,t,s){const o=2.5949095;return t*(s<.5?(2*s)**2*(7.189819*s-o)/2:((2*s-2)**2*((o+1)*(2*s-2)+o)+2)/2)+e},easeInElastic(e,t,s){const o=2*Math.PI/3;return t*(0===s?0:1===s?1:-(2**(10*s-10))*Math.sin((10*s-10.75)*o))+e},easeOutElastic(e,t,s){const o=2*Math.PI/3;return t*(0===s?0:1===s?1:2**(-10*s)*Math.sin((10*s-.75)*o)+1)+e},easeInOutElastic(e,t,s){const o=2*Math.PI/4.5;return t*(0===s?0:1===s?1:s<.5?-(2**(20*s-10))*Math.sin((20*s-11.125)*o)/2:2**(-20*s+10)*Math.sin((20*s-11.125)*o)/2+1)+e},easeOutBounce(e,t,s){const o=7.5625,y=2.75;return t*(s<1/y?o*s*s:s<2/y?o*(s-=1.5/y)*s+.75:s<2.5/y?o*(s-=2.25/y)*s+.9375:o*(s-=2.625/y)*s+.984375)+e},easeInBounce(e,t,s){const o=7.5625,y=2.75;return t*(1-((s=1-s)<1/y?o*s*s:s<2/y?o*(s-=1.5/y)*s+.75:s<2.5/y?o*(s-=2.25/y)*s+.9375:o*(s-=2.625/y)*s+.984375))+e},easeInOutBounce(e,t,s){const o=7.5625,y=2.75;var c;return(c=s<.5?1-2*s:2*s-1)<1/y?o*c*c:c<2/y?o*(c-=1.5/y)*c+.75:c<2.5/y?o*(c-=2.25/y)*c+.9375:o*(c-=2.625/y)*c+.984375,t*(s<.5?(1-c)/1:(1+c)/1)+e},tweens:[],wait:ct.u.wait},ct.tween.easeInOutQuad=ct.tween.ease,ct.random=function(e){return Math.random()*e},ct.u.ext(ct.random,{dice:(...e)=>e[Math.floor(Math.random()*e.length)],range:(e,t)=>e+Math.random()*(t-e),deg:()=>360*Math.random(),coord:()=>[Math.floor(Math.random()*ct.width),Math.floor(Math.random()*ct.height)],chance:(e,t)=>t?Math.random()*t<e:100*Math.random()<e,from:e=>e[Math.floor(Math.random()*e.length)],createSeededRandomizer:e=>function(){var t=e+=1831565813;return t=Math.imul(t^t>>>15,1|t),(((t^=t+Math.imul(t^t>>>7,61|t))^t>>>14)>>>0)/4294967296}});{const e={};e.currentRootRandomizer=ct.random.createSeededRandomizer(456852),ct.random.seeded=function(){return e.currentRootRandomizer()},ct.random.setSeed=function(t){e.currentRootRandomizer=ct.random.createSeededRandomizer(t)},ct.random.setSeed(9323846264)}!function(e){"use strict";var t="KeyboardEvent"in e;t||(e.KeyboardEvent=function(){throw TypeError("Illegal constructor")}),[["DOM_KEY_LOCATION_STANDARD",0],["DOM_KEY_LOCATION_LEFT",1],["DOM_KEY_LOCATION_RIGHT",2],["DOM_KEY_LOCATION_NUMPAD",3]].forEach((function(t){t[0]in e.KeyboardEvent||(e.KeyboardEvent[t[0]]=t[1])}));var s=e.KeyboardEvent.DOM_KEY_LOCATION_STANDARD,o=e.KeyboardEvent.DOM_KEY_LOCATION_LEFT,y=e.KeyboardEvent.DOM_KEY_LOCATION_RIGHT,c=e.KeyboardEvent.DOM_KEY_LOCATION_NUMPAD;function x(e,t){return-1!==String(e).indexOf(t)}var i=x(navigator.platform,"Win")?"win":x(navigator.platform,"Mac")?"mac":x(navigator.platform,"CrOS")?"cros":x(navigator.platform,"Linux")?"linux":x(navigator.userAgent,"iPad")||x(navigator.platform,"iPod")||x(navigator.platform,"iPhone")?"ios":"",p=x(navigator.userAgent,"Chrome/")?"chrome":x(navigator.vendor,"Apple")?"safari":x(navigator.userAgent,"MSIE")?"ie":x(navigator.userAgent,"Gecko/")?"moz":x(navigator.userAgent,"Opera/")?"opera":"",a=p+"-"+i;function r(e,t,s){a!==t&&p!==t&&i!==t||Object.keys(s).forEach((function(t){e[t]=s[t]}))}var n={3:{code:"Cancel"},6:{code:"Help"},8:{code:"Backspace"},9:{code:"Tab"},12:{code:"Clear"},13:{code:"Enter"},16:{code:"Shift"},17:{code:"Control"},18:{code:"Alt"},19:{code:"Pause"},20:{code:"CapsLock"},21:{code:"KanaMode"},22:{code:"Lang1"},25:{code:"Lang2"},27:{code:"Escape"},28:{code:"Convert"},29:{code:"NonConvert"},30:{code:"Accept"},31:{code:"ModeChange"},32:{code:"Space"},33:{code:"PageUp"},34:{code:"PageDown"},35:{code:"End"},36:{code:"Home"},37:{code:"ArrowLeft"},38:{code:"ArrowUp"},39:{code:"ArrowRight"},40:{code:"ArrowDown"},41:{code:"Select"},42:{code:"Print"},43:{code:"Execute"},44:{code:"PrintScreen"},45:{code:"Insert"},46:{code:"Delete"},47:{code:"Help"},48:{code:"Digit0",keyCap:"0"},49:{code:"Digit1",keyCap:"1"},50:{code:"Digit2",keyCap:"2"},51:{code:"Digit3",keyCap:"3"},52:{code:"Digit4",keyCap:"4"},53:{code:"Digit5",keyCap:"5"},54:{code:"Digit6",keyCap:"6"},55:{code:"Digit7",keyCap:"7"},56:{code:"Digit8",keyCap:"8"},57:{code:"Digit9",keyCap:"9"},65:{code:"KeyA",keyCap:"a"},66:{code:"KeyB",keyCap:"b"},67:{code:"KeyC",keyCap:"c"},68:{code:"KeyD",keyCap:"d"},69:{code:"KeyE",keyCap:"e"},70:{code:"KeyF",keyCap:"f"},71:{code:"KeyG",keyCap:"g"},72:{code:"KeyH",keyCap:"h"},73:{code:"KeyI",keyCap:"i"},74:{code:"KeyJ",keyCap:"j"},75:{code:"KeyK",keyCap:"k"},76:{code:"KeyL",keyCap:"l"},77:{code:"KeyM",keyCap:"m"},78:{code:"KeyN",keyCap:"n"},79:{code:"KeyO",keyCap:"o"},80:{code:"KeyP",keyCap:"p"},81:{code:"KeyQ",keyCap:"q"},82:{code:"KeyR",keyCap:"r"},83:{code:"KeyS",keyCap:"s"},84:{code:"KeyT",keyCap:"t"},85:{code:"KeyU",keyCap:"u"},86:{code:"KeyV",keyCap:"v"},87:{code:"KeyW",keyCap:"w"},88:{code:"KeyX",keyCap:"x"},89:{code:"KeyY",keyCap:"y"},90:{code:"KeyZ",keyCap:"z"},91:{code:"MetaLeft",location:o},92:{code:"MetaRight",location:y},93:{code:"ContextMenu"},95:{code:"Standby"},96:{code:"Numpad0",keyCap:"0",location:c},97:{code:"Numpad1",keyCap:"1",location:c},98:{code:"Numpad2",keyCap:"2",location:c},99:{code:"Numpad3",keyCap:"3",location:c},100:{code:"Numpad4",keyCap:"4",location:c},101:{code:"Numpad5",keyCap:"5",location:c},102:{code:"Numpad6",keyCap:"6",location:c},103:{code:"Numpad7",keyCap:"7",location:c},104:{code:"Numpad8",keyCap:"8",location:c},105:{code:"Numpad9",keyCap:"9",location:c},106:{code:"NumpadMultiply",keyCap:"*",location:c},107:{code:"NumpadAdd",keyCap:"+",location:c},108:{code:"NumpadComma",keyCap:",",location:c},109:{code:"NumpadSubtract",keyCap:"-",location:c},110:{code:"NumpadDecimal",keyCap:".",location:c},111:{code:"NumpadDivide",keyCap:"/",location:c},112:{code:"F1"},113:{code:"F2"},114:{code:"F3"},115:{code:"F4"},116:{code:"F5"},117:{code:"F6"},118:{code:"F7"},119:{code:"F8"},120:{code:"F9"},121:{code:"F10"},122:{code:"F11"},123:{code:"F12"},124:{code:"F13"},125:{code:"F14"},126:{code:"F15"},127:{code:"F16"},128:{code:"F17"},129:{code:"F18"},130:{code:"F19"},131:{code:"F20"},132:{code:"F21"},133:{code:"F22"},134:{code:"F23"},135:{code:"F24"},144:{code:"NumLock",location:c},145:{code:"ScrollLock"},160:{code:"ShiftLeft",location:o},161:{code:"ShiftRight",location:y},162:{code:"ControlLeft",location:o},163:{code:"ControlRight",location:y},164:{code:"AltLeft",location:o},165:{code:"AltRight",location:y},166:{code:"BrowserBack"},167:{code:"BrowserForward"},168:{code:"BrowserRefresh"},169:{code:"BrowserStop"},170:{code:"BrowserSearch"},171:{code:"BrowserFavorites"},172:{code:"BrowserHome"},173:{code:"AudioVolumeMute"},174:{code:"AudioVolumeDown"},175:{code:"AudioVolumeUp"},176:{code:"MediaTrackNext"},177:{code:"MediaTrackPrevious"},178:{code:"MediaStop"},179:{code:"MediaPlayPause"},180:{code:"LaunchMail"},181:{code:"MediaSelect"},182:{code:"LaunchApp1"},183:{code:"LaunchApp2"},186:{code:"Semicolon",keyCap:";"},187:{code:"Equal",keyCap:"="},188:{code:"Comma",keyCap:","},189:{code:"Minus",keyCap:"-"},190:{code:"Period",keyCap:"."},191:{code:"Slash",keyCap:"/"},192:{code:"Backquote",keyCap:"`"},219:{code:"BracketLeft",keyCap:"["},220:{code:"Backslash",keyCap:"\\"},221:{code:"BracketRight",keyCap:"]"},222:{code:"Quote",keyCap:"'"},226:{code:"IntlBackslash",keyCap:"\\"},229:{code:"Process"},246:{code:"Attn"},247:{code:"CrSel"},248:{code:"ExSel"},249:{code:"EraseEof"},250:{code:"Play"},251:{code:"ZoomToggle"},254:{code:"Clear"}};r(n,"moz",{59:{code:"Semicolon",keyCap:";"},61:{code:"Equal",keyCap:"="},107:{code:"Equal",keyCap:"="},109:{code:"Minus",keyCap:"-"},187:{code:"NumpadAdd",keyCap:"+",location:c},189:{code:"NumpadSubtract",keyCap:"-",location:c}}),r(n,"moz-mac",{12:{code:"NumLock",location:c},173:{code:"Minus",keyCap:"-"}}),r(n,"moz-win",{173:{code:"Minus",keyCap:"-"}}),r(n,"chrome-mac",{93:{code:"MetaRight",location:y}}),r(n,"safari",{3:{code:"Enter"},25:{code:"Tab"}}),r(n,"ios",{10:{code:"Enter",location:s}}),r(n,"safari-mac",{91:{code:"MetaLeft",location:o},93:{code:"MetaRight",location:y},229:{code:"KeyQ",keyCap:"Q"}});var h={};"cros"===i&&(h["U+00A0"]={code:"ShiftLeft",location:o},h["U+00A1"]={code:"ShiftRight",location:y},h["U+00A2"]={code:"ControlLeft",location:o},h["U+00A3"]={code:"ControlRight",location:y},h["U+00A4"]={code:"AltLeft",location:o},h["U+00A5"]={code:"AltRight",location:y}),"chrome-mac"===a&&(h["U+0010"]={code:"ContextMenu"}),"safari-mac"===a&&(h["U+0010"]={code:"ContextMenu"}),"ios"===i&&(h["U+0010"]={code:"Function"},h["U+001C"]={code:"ArrowLeft"},h["U+001D"]={code:"ArrowRight"},h["U+001E"]={code:"ArrowUp"},h["U+001F"]={code:"ArrowDown"},h["U+0001"]={code:"Home"},h["U+0004"]={code:"End"},h["U+000B"]={code:"PageUp"},h["U+000C"]={code:"PageDown"});var l=[];l[o]={16:{code:"ShiftLeft",location:o},17:{code:"ControlLeft",location:o},18:{code:"AltLeft",location:o}},l[y]={16:{code:"ShiftRight",location:y},17:{code:"ControlRight",location:y},18:{code:"AltRight",location:y}},l[c]={13:{code:"NumpadEnter",location:c}},r(l[c],"moz",{109:{code:"NumpadSubtract",location:c},107:{code:"NumpadAdd",location:c}}),r(l[o],"moz-mac",{224:{code:"MetaLeft",location:o}}),r(l[y],"moz-mac",{224:{code:"MetaRight",location:y}}),r(l[y],"moz-win",{91:{code:"MetaRight",location:y}}),r(l[y],"mac",{93:{code:"MetaRight",location:y}}),r(l[c],"chrome-mac",{12:{code:"NumLock",location:c}}),r(l[c],"safari-mac",{12:{code:"NumLock",location:c},187:{code:"NumpadAdd",location:c},189:{code:"NumpadSubtract",location:c},190:{code:"NumpadDecimal",location:c},191:{code:"NumpadDivide",location:c}});var d={ShiftLeft:{key:"Shift"},ShiftRight:{key:"Shift"},ControlLeft:{key:"Control"},ControlRight:{key:"Control"},AltLeft:{key:"Alt"},AltRight:{key:"Alt"},MetaLeft:{key:"Meta"},MetaRight:{key:"Meta"},NumpadEnter:{key:"Enter"},Space:{key:" "},Digit0:{key:"0",shiftKey:")"},Digit1:{key:"1",shiftKey:"!"},Digit2:{key:"2",shiftKey:"@"},Digit3:{key:"3",shiftKey:"#"},Digit4:{key:"4",shiftKey:"$"},Digit5:{key:"5",shiftKey:"%"},Digit6:{key:"6",shiftKey:"^"},Digit7:{key:"7",shiftKey:"&"},Digit8:{key:"8",shiftKey:"*"},Digit9:{key:"9",shiftKey:"("},KeyA:{key:"a",shiftKey:"A"},KeyB:{key:"b",shiftKey:"B"},KeyC:{key:"c",shiftKey:"C"},KeyD:{key:"d",shiftKey:"D"},KeyE:{key:"e",shiftKey:"E"},KeyF:{key:"f",shiftKey:"F"},KeyG:{key:"g",shiftKey:"G"},KeyH:{key:"h",shiftKey:"H"},KeyI:{key:"i",shiftKey:"I"},KeyJ:{key:"j",shiftKey:"J"},KeyK:{key:"k",shiftKey:"K"},KeyL:{key:"l",shiftKey:"L"},KeyM:{key:"m",shiftKey:"M"},KeyN:{key:"n",shiftKey:"N"},KeyO:{key:"o",shiftKey:"O"},KeyP:{key:"p",shiftKey:"P"},KeyQ:{key:"q",shiftKey:"Q"},KeyR:{key:"r",shiftKey:"R"},KeyS:{key:"s",shiftKey:"S"},KeyT:{key:"t",shiftKey:"T"},KeyU:{key:"u",shiftKey:"U"},KeyV:{key:"v",shiftKey:"V"},KeyW:{key:"w",shiftKey:"W"},KeyX:{key:"x",shiftKey:"X"},KeyY:{key:"y",shiftKey:"Y"},KeyZ:{key:"z",shiftKey:"Z"},Numpad0:{key:"0"},Numpad1:{key:"1"},Numpad2:{key:"2"},Numpad3:{key:"3"},Numpad4:{key:"4"},Numpad5:{key:"5"},Numpad6:{key:"6"},Numpad7:{key:"7"},Numpad8:{key:"8"},Numpad9:{key:"9"},NumpadMultiply:{key:"*"},NumpadAdd:{key:"+"},NumpadComma:{key:","},NumpadSubtract:{key:"-"},NumpadDecimal:{key:"."},NumpadDivide:{key:"/"},Semicolon:{key:";",shiftKey:":"},Equal:{key:"=",shiftKey:"+"},Comma:{key:",",shiftKey:"<"},Minus:{key:"-",shiftKey:"_"},Period:{key:".",shiftKey:">"},Slash:{key:"/",shiftKey:"?"},Backquote:{key:"`",shiftKey:"~"},BracketLeft:{key:"[",shiftKey:"{"},Backslash:{key:"\\",shiftKey:"|"},BracketRight:{key:"]",shiftKey:"}"},Quote:{key:"'",shiftKey:'"'},IntlBackslash:{key:"\\",shiftKey:"|"}};r(d,"mac",{MetaLeft:{key:"Meta"},MetaRight:{key:"Meta"}});var k,R,m,u={Add:"+",Decimal:".",Divide:"/",Subtract:"-",Multiply:"*",Spacebar:" ",Esc:"Escape",Nonconvert:"NonConvert",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Menu:"ContextMenu",MediaNextTrack:"MediaTrackNext",MediaPreviousTrack:"MediaTrackPrevious",SelectMedia:"MediaSelect",HalfWidth:"Hankaku",FullWidth:"Zenkaku",RomanCharacters:"Romaji",Crsel:"CrSel",Exsel:"ExSel",Zoom:"ZoomToggle"},f=(k=n,R="code",m={},Object.keys(k).forEach((function(e){var t=k[e];R in t&&(m[t[R]]=t)})),m);try{var g=t&&"location"in new KeyboardEvent("")}catch(e){}function T(e){var t="keyCode"in e?e.keyCode:"which"in e?e.which:0,s=function(){if(g||"keyLocation"in e){var s=g?e.location:e.keyLocation;if(s&&t in l[s])return l[s][t]}return"keyIdentifier"in e&&e.keyIdentifier in h?h[e.keyIdentifier]:t in n?n[t]:null}();if(!s)return null;var o,y=(o=d[s.code])?e.shiftKey&&"shiftKey"in o?o.shiftKey:o.key:s.code;return{code:s.code,key:y,location:s.location,keyCap:s.keyCap}}"KeyboardEvent"in e&&"defineProperty"in Object&&function(){function e(e,t,s){t in e||Object.defineProperty(e,t,s)}if(e(KeyboardEvent.prototype,"code",{get:function(){var e=T(this);return e?e.code:""}}),"key"in KeyboardEvent.prototype){var t=Object.getOwnPropertyDescriptor(KeyboardEvent.prototype,"key");Object.defineProperty(KeyboardEvent.prototype,"key",{get:function(){var e=t.get.call(this);return u.hasOwnProperty(e)?u[e]:e}})}e(KeyboardEvent.prototype,"key",{get:function(){var e=T(this);return e&&"key"in e?e.key:"Unidentified"}}),e(KeyboardEvent.prototype,"location",{get:function(){var e=T(this);return e&&"location"in e?e.location:s}}),e(KeyboardEvent.prototype,"locale",{get:function(){return""}})}(),"queryKeyCap"in e.KeyboardEvent||(e.KeyboardEvent.queryKeyCap=function(e,t){if(e=String(e),!f.hasOwnProperty(e))return"Undefined";if(t&&"en-us"!==String(t).toLowerCase())throw Error("Unsupported locale");var s=f[e];return s.keyCap||s.code||"Undefined"}),e.identifyKey=function(e){if(!("code"in e)){var t=T(e);e.code=t?t.code:"",e.key=t&&"key"in t?t.key:"Unidentified",e.location="location"in e?e.location:"keyLocation"in e?e.keyLocation:t&&"location"in t?t.location:s,e.locale=""}}}(self),function(){var e=function(e,t){ct.inputs.registry["keyboard."+e]=t};ct.keyboard={string:"",lastKey:"",lastCode:"",alt:!1,shift:!1,ctrl:!1,clear(){delete ct.keyboard.lastKey,delete ct.keyboard.lastCode,ct.keyboard.string="",ct.keyboard.alt=!1,ct.keyboard.shift=!1,ct.keyboard.ctrl=!1},check:[],onDown(t){ct.keyboard.shift=t.shiftKey,ct.keyboard.alt=t.altKey,ct.keyboard.ctrl=t.ctrlKey,ct.keyboard.lastKey=t.key,ct.keyboard.lastCode=t.code,t.code?e(t.code,1):e("Unknown",1),t.key&&(1===t.key.length?ct.keyboard.string+=t.key:"Backspace"===t.key?ct.keyboard.string=ct.keyboard.string.slice(0,-1):"Enter"===t.key&&(ct.keyboard.string="")),t.preventDefault()},onUp(t){ct.keyboard.shift=t.shiftKey,ct.keyboard.alt=t.altKey,ct.keyboard.ctrl=t.ctrlKey,t.code?e(t.code,0):e("Unknown",0),t.preventDefault()}},document.addEventListener?(document.addEventListener("keydown",ct.keyboard.onDown,!1),document.addEventListener("keyup",ct.keyboard.onUp,!1)):(document.attachEvent("onkeydown",ct.keyboard.onDown),document.attachEvent("onkeyup",ct.keyboard.onUp))}(),function(ct){document.body.style.overflow="hidden";var e=ct.pixiApp.view,t=function(){const{mode:t}=ct.fittoscreen,s=ct.highDensity&&window.devicePixelRatio||1,o=window.innerWidth/ct.roomWidth,y=window.innerHeight/ct.roomHeight;let c=Math.min(o,y);var x,i,p,a;"fastScaleInteger"===t&&(c=c<1?c:Math.floor(c)),"expandViewport"===t||"expand"===t?(x=Math.ceil(window.innerWidth*s),i=Math.ceil(window.innerHeight*s),p=window.innerWidth,a=window.innerHeight):"fastScale"===t||"fastScaleInteger"===t?(x=Math.ceil(ct.roomWidth*s),i=Math.ceil(ct.roomHeight*s),p=ct.roomWidth,a=ct.roomHeight):"scaleFit"!==t&&"scaleFill"!==t||("scaleFill"===t?(x=Math.ceil(ct.roomWidth*o*s),i=Math.ceil(ct.roomHeight*y*s),p=window.innerWidth/c,a=window.innerHeight/c):(x=Math.ceil(ct.roomWidth*c*s),i=Math.ceil(ct.roomHeight*c*s),p=ct.roomWidth,a=ct.roomHeight)),ct.pixiApp.renderer.resize(x,i),ct.pixiApp.stage.scale.x=ct.pixiApp.stage.scale.y="scaleFill"!==t&&"scaleFit"!==t?s:s*c,e.style.width=Math.ceil(x/s)+"px",e.style.height=Math.ceil(i/s)+"px",ct.camera.width=p,ct.camera.height=a,"fastScale"===t||"fastScaleInteger"===t?(e.style.transform=`translate(-50%, -50%) scale(${c})`,e.style.position="absolute",e.style.top="50%",e.style.left="50%"):"expandViewport"===t||"expand"===t||"scaleFill"===t?(e.style.position="static",e.style.top="unset",e.style.left="unset"):"scaleFit"===t&&(e.style.transform="translate(-50%, -50%)",e.style.position="absolute",e.style.top="50%",e.style.left="50%")},s=function e(){!function(){try{const e=require("electron").remote.BrowserWindow.getFocusedWindow();return void e.setFullScreen(!e.isFullScreen())}catch(e){}var e=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement,t=document.getElementById("ct"),s=t.requestFullscreen||t.webkitRequestFullscreen||t.mozRequestFullScreen||t.msRequestFullscreen,o=document.exitFullscreen||document.webkitExitFullscreen||document.mozCancelFullScreen||document.msExitFullscreen;if(e)o&&o.call(document);else{var y=s.call(t);y&&y.catch((function(e){console.error("[ct.fittoscreen]",e)}))}}(),document.removeEventListener("mouseup",e),document.removeEventListener("keyup",e),document.removeEventListener("click",e)};window.addEventListener("resize",t),ct.fittoscreen=t,ct.fittoscreen.toggleFullscreen=function(){document.addEventListener("mouseup",s),document.addEventListener("keyup",s),document.addEventListener("click",s)};var o="scaleFit";Object.defineProperty(ct.fittoscreen,"mode",{configurable:!1,enumerable:!0,set(e){o=e},get:()=>o}),ct.fittoscreen.mode=o,ct.fittoscreen.getIsFullscreen=function(){try{return require("electron").remote.BrowserWindow.getFocusedWindow.isFullScreen}catch(e){}return document.fullscreen||document.webkitIsFullScreen||document.mozFullScreen}}(ct);var inGameRoomStart=function(e){e.crystals=0,e.crystalsTotal=ct.types.list.GreenCrystal.length,e.lives=3,ct.rooms.append("LayerUI",{isUi:!0})};class Room extends PIXI.Container{static getNewId(){return this.roomId++,this.roomId}constructor(e){if(super(),this.x=this.y=0,this.uid=Room.getNewId(),this.tileLayers=[],this.backgrounds=[],ct.room||(ct.room=ct.rooms.current=this),e){e.extends&&ct.u.ext(this,e.extends),this.onCreate=e.onCreate,this.onStep=e.onStep,this.onDraw=e.onDraw,this.onLeave=e.onLeave,this.template=e,this.name=e.name,this===ct.room&&(ct.pixiApp.renderer.backgroundColor=ct.u.hexToPixi(this.template.backgroundColor)),ct.fittoscreen();for(let t=0,s=e.bgs.length;t<s;t++){const s=new ct.types.Background(e.bgs[t].texture,null,e.bgs[t].depth,e.bgs[t].extends);this.addChild(s)}for(let t=0,s=e.tiles.length;t<s;t++){const s=new Tilemap(e.tiles[t]);s.cache(),this.tileLayers.push(s),this.addChild(s)}for(let t=0,s=e.objects.length;t<s;t++){const s=e.objects[t].exts||{};ct.types.make(e.objects[t].type,e.objects[t].x,e.objects[t].y,{tx:e.objects[t].tx,ty:e.objects[t].ty,tr:e.objects[t].tr,...s},this)}}return this}get x(){return-this.position.x}set x(e){return this.position.x=-e,e}get y(){return-this.position.y}set y(e){return this.position.y=-e,e}}Room.roomId=0,function(){var e;ct.rooms={templates:{},list:{},addBg(e,t){const s=new ct.types.Background(e,null,t);return ct.room.addChild(s),s},addTileLayer:e=>ct.tilemaps.create(e),clear(){ct.stage.children=[],ct.stack=[];for(const e in ct.types.list)ct.types.list[e]=[];for(const e in ct.backgrounds.list)ct.backgrounds.list[e]=[];ct.rooms.list={};for(const e in ct.rooms.templates)ct.rooms.list[e]=[]},remove(e){if(!(e instanceof Room)){if("string"==typeof e)throw new Error("[ct.rooms] To remove a room, you should provide a reference to it (to an object), not its name. Provided value:",e);throw new Error("[ct.rooms] An attempt to remove a room that is not actually a room! Provided value:",e)}const t=ct.rooms.list[e.name];-1!==t?ct.rooms.list[e.name].splice(t,1):console.warn("[ct.rooms] Removing a room that was not found in ct.rooms.list. This is strangeâ€¦"),e.kill=!0,ct.stage.removeChild(e);for(const t of e.children)t.kill=!0;e.onLeave(),ct.rooms.onLeave.apply(e)},switch(t){ct.rooms.templates[t]?(e=t,ct.rooms.switching=!0):console.error('[ct.rooms] The room "'+t+'" does not exist!')},switching:!1,append(e,t){if(!(e in ct.rooms.templates))return console.error(`[ct.rooms] append failed: the room ${e} does not exist!`),!1;const s=new Room(ct.rooms.templates[e]);return t&&ct.u.ext(s,t),ct.stage.addChild(s),s.onCreate(),ct.rooms.onCreate.apply(s),ct.rooms.list[e].push(s),s},prepend(e,t){if(!(e in ct.rooms.templates))return console.error(`[ct.rooms] prepend failed: the room ${e} does not exist!`),!1;const s=new Room(ct.rooms.templates[e]);return t&&ct.u.ext(s,t),ct.stage.addChildAt(s,0),s.onCreate(),ct.rooms.onCreate.apply(s),ct.rooms.list[e].push(s),s},merge(e){if(!(e in ct.rooms.templates))return console.error(`[ct.rooms] merge failed: the room ${e} does not exist!`),!1;const t={copies:[],tileLayers:[],backgrounds:[]},s=ct.rooms.templates[e],o=ct.room;for(const e of s.bgs){const s=new ct.types.Background(e.texture,null,e.depth,e.extends);o.backgrounds.push(s),o.addChild(s),t.backgrounds.push(s)}for(const e of s.tiles){const s=new Tilemap(e);o.tileLayers.push(s),o.addChild(s),t.tileLayers.push(s),s.cache()}for(const e of s.objects){const s=ct.types.make(e.type,e.x,e.y,{tx:e.tx||1,ty:e.ty||1,tr:e.tr||0},o);t.copies.push(s)}return t},forceSwitch(t){e&&(t=e),ct.room&&(ct.room.onLeave(),ct.rooms.onLeave.apply(ct.room),ct.room=void 0),ct.rooms.clear(),deadPool.length=0;var s=ct.rooms.templates[t];ct.roomWidth=s.width,ct.roomHeight=s.height,ct.camera=new Camera(ct.roomWidth/2,ct.roomHeight/2,ct.roomWidth,ct.roomHeight),s.cameraConstraints&&(ct.camera.minX=s.cameraConstraints.x1,ct.camera.maxX=s.cameraConstraints.x2,ct.camera.minY=s.cameraConstraints.y1,ct.camera.maxY=s.cameraConstraints.y2),ct.pixiApp.renderer.resize(s.width,s.height),ct.rooms.current=ct.room=new Room(s),ct.stage.addChild(ct.room),ct.room.onCreate(),ct.rooms.onCreate.apply(ct.room),ct.rooms.list[t].push(ct.room),ct.camera.manageStage(),ct.rooms.switching=!1,e=void 0},onCreate(){if(this===ct.room){ct.place.tileGrid={};const e=new PIXI.Graphics;e.depth=1e7,ct.room.addChild(e),ct.place.debugTraceGraphics=e}for(const e of this.tileLayers)-1!==this.children.indexOf(e)&&ct.place.enableTilemapCollisions(e)},onLeave(){if(this===ct.room&&(ct.place.grid={}),!this.kill){for(var e of ct.tween.tweens)e.reject({info:"Room switch",code:1,from:"ct.tween"});ct.tween.tweens=[]}},starting:"Level_01"}}(),ct.room=null,ct.rooms.beforeStep=function(){for(var e=0;e<ct.tween.tweens.length;){var t=ct.tween.tweens[e];if(t.obj.kill)t.reject({code:2,info:"Copy is killed"}),ct.tween.tweens.splice(e,1);else{var s=t.timer.time/t.duration;for(var o in s>1&&(s=1),t.fields){var y=t.starting[o],c=t.fields[o]-t.starting[o];t.obj[o]=t.curve(y,c,s)}1!==s?e++:(t.resolve(t.fields),ct.tween.tweens.splice(e,1))}}},ct.rooms.afterStep=function(){},ct.rooms.beforeDraw=function(){},ct.rooms.afterDraw=function(){ct.keyboard.clear()},ct.rooms.templates.Level_01={name:"Level_01",width:1024,height:576,objects:JSON.parse('[{"x":0,"y":320,"exts":{},"type":"Rocks_Top"},{"x":64,"y":320,"exts":{},"type":"Rocks_Top"},{"x":-64,"y":128,"exts":{},"type":"Rocks"},{"x":-64,"y":192,"exts":{},"type":"Rocks"},{"x":-64,"y":256,"exts":{},"type":"Rocks"},{"x":-64,"y":320,"exts":{},"type":"Rocks"},{"x":-192,"y":320,"exts":{},"type":"Rocks"},{"x":-192,"y":256,"exts":{},"type":"Rocks"},{"x":-192,"y":192,"exts":{},"type":"Rocks"},{"x":-192,"y":128,"exts":{},"type":"Rocks"},{"x":-128,"y":128,"exts":{},"type":"Rocks"},{"x":-128,"y":192,"exts":{},"type":"Rocks"},{"x":-128,"y":256,"exts":{},"type":"Rocks"},{"x":-128,"y":320,"exts":{},"type":"Rocks"},{"x":-128,"y":320,"exts":{},"type":"Rocks"},{"x":128,"y":384,"exts":{},"type":"Rocks"},{"x":128,"y":448,"exts":{},"type":"Rocks"},{"x":64,"y":512,"exts":{},"type":"Rocks"},{"x":64,"y":512,"exts":{},"type":"Rocks"},{"x":128,"y":512,"exts":{},"type":"Rocks"},{"x":64,"y":448,"exts":{},"type":"Rocks"},{"x":64,"y":384,"exts":{},"type":"Rocks"},{"x":0,"y":384,"exts":{},"type":"Rocks"},{"x":0,"y":448,"exts":{},"type":"Rocks"},{"x":0,"y":512,"exts":{},"type":"Rocks"},{"x":-64,"y":512,"exts":{},"type":"Rocks"},{"x":-128,"y":512,"exts":{},"type":"Rocks"},{"x":-192,"y":512,"exts":{},"type":"Rocks"},{"x":-192,"y":384,"exts":{},"type":"Rocks"},{"x":-128,"y":384,"exts":{},"type":"Rocks"},{"x":-64,"y":384,"exts":{},"type":"Rocks"},{"x":-64,"y":448,"exts":{},"type":"Rocks"},{"x":-128,"y":448,"exts":{},"type":"Rocks"},{"x":-128,"y":448,"exts":{},"type":"Rocks"},{"x":-192,"y":448,"exts":{},"type":"Rocks"},{"x":320,"y":384,"exts":{},"type":"Rocks"},{"x":384,"y":384,"exts":{},"type":"Rocks"},{"x":448,"y":384,"exts":{},"type":"Rocks"},{"x":448,"y":448,"exts":{},"type":"Rocks"},{"x":448,"y":512,"exts":{},"type":"Rocks"},{"x":384,"y":512,"exts":{},"type":"Rocks"},{"x":320,"y":512,"exts":{},"type":"Rocks"},{"x":320,"y":448,"exts":{},"type":"Rocks"},{"x":384,"y":448,"exts":{},"type":"Rocks"},{"x":384,"y":448,"exts":{},"type":"Rocks"},{"x":-192,"y":576,"exts":{},"type":"Rocks"},{"x":-128,"y":576,"exts":{},"type":"Rocks"},{"x":-64,"y":576,"exts":{},"type":"Rocks"},{"x":0,"y":576,"exts":{},"type":"Rocks"},{"x":64,"y":576,"exts":{},"type":"Rocks"},{"x":128,"y":576,"exts":{},"type":"Rocks"},{"x":192,"y":576,"exts":{},"type":"Rocks"},{"x":256,"y":576,"exts":{},"type":"Rocks"},{"x":320,"y":576,"exts":{},"type":"Rocks"},{"x":384,"y":576,"exts":{},"type":"Rocks"},{"x":448,"y":576,"exts":{},"type":"Rocks"},{"x":448,"y":640,"exts":{},"type":"Rocks"},{"x":448,"y":640,"exts":{},"type":"Rocks"},{"x":-192,"y":640,"exts":{},"type":"Rocks"},{"x":-128,"y":640,"exts":{},"type":"Rocks"},{"x":-64,"y":640,"exts":{},"type":"Rocks"},{"x":0,"y":640,"exts":{},"type":"Rocks"},{"x":64,"y":640,"exts":{},"type":"Rocks"},{"x":128,"y":640,"exts":{},"type":"Rocks"},{"x":192,"y":640,"exts":{},"type":"Rocks"},{"x":256,"y":640,"exts":{},"type":"Rocks"},{"x":320,"y":640,"exts":{},"type":"Rocks"},{"x":384,"y":640,"exts":{},"type":"Rocks"},{"x":384,"y":640,"exts":{},"type":"Rocks"},{"x":-192,"y":704,"exts":{},"type":"Rocks"},{"x":-128,"y":704,"exts":{},"type":"Rocks"},{"x":-64,"y":704,"exts":{},"type":"Rocks"},{"x":0,"y":704,"exts":{},"type":"Rocks"},{"x":64,"y":704,"exts":{},"type":"Rocks"},{"x":128,"y":704,"exts":{},"type":"Rocks"},{"x":192,"y":704,"exts":{},"type":"Rocks"},{"x":256,"y":704,"exts":{},"type":"Rocks"},{"x":320,"y":704,"exts":{},"type":"Rocks"},{"x":384,"y":704,"exts":{},"type":"Rocks"},{"x":448,"y":704,"exts":{},"type":"Rocks"},{"x":448,"y":704,"exts":{},"type":"Rocks"},{"x":320,"y":320,"exts":{},"type":"Rocks_Top"},{"x":384,"y":320,"exts":{},"type":"Rocks_Top"},{"x":448,"y":320,"exts":{},"type":"Rocks_Top"},{"x":448,"y":320,"exts":{},"type":"Rocks_Top"},{"x":640,"y":256,"exts":{},"type":"Rocks_Top"},{"x":704,"y":256,"exts":{},"type":"Rocks_Top"},{"x":704,"y":256,"exts":{},"type":"Rocks_Top"},{"x":640,"y":320,"exts":{},"type":"Rocks"},{"x":640,"y":384,"exts":{},"type":"Rocks"},{"x":704,"y":384,"exts":{},"type":"Rocks"},{"x":704,"y":448,"exts":{},"type":"Rocks"},{"x":704,"y":448,"exts":{},"type":"Rocks"},{"x":640,"y":448,"exts":{},"type":"Rocks"},{"x":576,"y":448,"exts":{},"type":"Rocks"},{"x":512,"y":448,"exts":{},"type":"Rocks"},{"x":512,"y":512,"exts":{},"type":"Rocks"},{"x":512,"y":576,"exts":{},"type":"Rocks"},{"x":576,"y":640,"exts":{},"type":"Rocks"},{"x":576,"y":704,"exts":{},"type":"Rocks"},{"x":512,"y":704,"exts":{},"type":"Rocks"},{"x":512,"y":640,"exts":{},"type":"Rocks"},{"x":512,"y":640,"exts":{},"type":"Rocks"},{"x":576,"y":576,"exts":{},"type":"Rocks"},{"x":640,"y":576,"exts":{},"type":"Rocks"},{"x":640,"y":512,"exts":{},"type":"Rocks"},{"x":576,"y":512,"exts":{},"type":"Rocks"},{"x":576,"y":512,"exts":{},"type":"Rocks"},{"x":704,"y":512,"exts":{},"type":"Rocks"},{"x":704,"y":576,"exts":{},"type":"Rocks"},{"x":704,"y":640,"exts":{},"type":"Rocks"},{"x":704,"y":704,"exts":{},"type":"Rocks"},{"x":640,"y":704,"exts":{},"type":"Rocks"},{"x":640,"y":640,"exts":{},"type":"Rocks"},{"x":640,"y":640,"exts":{},"type":"Rocks"},{"x":768,"y":704,"exts":{},"type":"Rocks"},{"x":832,"y":704,"exts":{},"type":"Rocks"},{"x":896,"y":704,"exts":{},"type":"Rocks"},{"x":960,"y":704,"exts":{},"type":"Rocks"},{"x":960,"y":640,"exts":{},"type":"Rocks"},{"x":960,"y":576,"exts":{},"type":"Rocks"},{"x":960,"y":512,"exts":{},"type":"Rocks"},{"x":960,"y":448,"exts":{},"type":"Rocks"},{"x":896,"y":448,"exts":{},"type":"Rocks"},{"x":832,"y":448,"exts":{},"type":"Rocks"},{"x":768,"y":448,"exts":{},"type":"Rocks"},{"x":768,"y":512,"exts":{},"type":"Rocks"},{"x":768,"y":576,"exts":{},"type":"Rocks"},{"x":832,"y":576,"exts":{},"type":"Rocks"},{"x":832,"y":640,"exts":{},"type":"Rocks"},{"x":768,"y":640,"exts":{},"type":"Rocks"},{"x":768,"y":640,"exts":{},"type":"Rocks"},{"x":832,"y":512,"exts":{},"type":"Rocks"},{"x":896,"y":512,"exts":{},"type":"Rocks"},{"x":896,"y":576,"exts":{},"type":"Rocks"},{"x":896,"y":640,"exts":{},"type":"Rocks"},{"x":896,"y":640,"exts":{},"type":"Rocks"},{"x":704,"y":320,"exts":{},"type":"Rocks"},{"x":896,"y":192,"exts":{},"type":"Rocks_Platform"},{"x":960,"y":192,"exts":{},"type":"Rocks_Platform"},{"x":768,"y":384,"exts":{},"type":"Rocks_Top"},{"x":832,"y":384,"exts":{},"type":"Rocks_Top"},{"x":896,"y":384,"exts":{},"type":"Rocks_Top"},{"x":960,"y":384,"exts":{},"type":"Rocks_Top"},{"x":1024,"y":384,"exts":{},"type":"Rocks_Top"},{"x":1088,"y":384,"exts":{},"type":"Rocks_Top"},{"x":1088,"y":384,"exts":{},"type":"Rocks_Top"},{"x":1152,"y":320,"exts":{},"type":"Rocks_Top"},{"x":1216,"y":256,"exts":{},"type":"Rocks_Top"},{"x":1344,"y":192,"exts":{},"type":"Rocks_Top"},{"x":1408,"y":192,"exts":{},"type":"Rocks_Top"},{"x":1472,"y":192,"exts":{},"type":"Rocks_Top"},{"x":1536,"y":192,"exts":{},"type":"Rocks_Top"},{"x":1600,"y":192,"exts":{},"type":"Rocks_Top"},{"x":1600,"y":192,"exts":{},"type":"Rocks_Top"},{"x":1664,"y":0,"exts":{},"type":"Rocks_Top"},{"x":1664,"y":64,"exts":{},"type":"Rocks"},{"x":1664,"y":128,"exts":{},"type":"Rocks"},{"x":1728,"y":128,"exts":{},"type":"Rocks"},{"x":1664,"y":128,"exts":{},"type":"Rocks"},{"x":1664,"y":192,"exts":{},"type":"Rocks"},{"x":1664,"y":256,"exts":{},"type":"Rocks"},{"x":1728,"y":256,"exts":{},"type":"Rocks"},{"x":1728,"y":320,"exts":{},"type":"Rocks"},{"x":1664,"y":320,"exts":{},"type":"Rocks"},{"x":1664,"y":384,"exts":{},"type":"Rocks"},{"x":1728,"y":448,"exts":{},"type":"Rocks"},{"x":1664,"y":448,"exts":{},"type":"Rocks"},{"x":1664,"y":448,"exts":{},"type":"Rocks"},{"x":1728,"y":384,"exts":{},"type":"Rocks"},{"x":1728,"y":192,"exts":{},"type":"Rocks"},{"x":1728,"y":64,"exts":{},"type":"Rocks"},{"x":1728,"y":0,"exts":{},"type":"Rocks_Top"},{"x":1024,"y":448,"exts":{},"type":"Rocks"},{"x":1088,"y":448,"exts":{},"type":"Rocks"},{"x":1152,"y":448,"exts":{},"type":"Rocks"},{"x":1216,"y":448,"exts":{},"type":"Rocks"},{"x":1280,"y":448,"exts":{},"type":"Rocks"},{"x":1344,"y":448,"exts":{},"type":"Rocks"},{"x":1600,"y":448,"exts":{},"type":"Rocks"},{"x":1600,"y":448,"exts":{},"type":"Rocks"},{"x":1152,"y":384,"exts":{},"type":"Rocks"},{"x":1216,"y":384,"exts":{},"type":"Rocks"},{"x":1280,"y":384,"exts":{},"type":"Rocks"},{"x":1344,"y":384,"exts":{},"type":"Rocks"},{"x":1600,"y":384,"exts":{},"type":"Rocks"},{"x":1600,"y":384,"exts":{},"type":"Rocks"},{"x":1216,"y":320,"exts":{},"type":"Rocks"},{"x":1280,"y":320,"exts":{},"type":"Rocks"},{"x":1344,"y":320,"exts":{},"type":"Rocks"},{"x":1600,"y":320,"exts":{},"type":"Rocks"},{"x":1600,"y":320,"exts":{},"type":"Rocks"},{"x":1280,"y":256,"exts":{},"type":"Rocks"},{"x":1344,"y":256,"exts":{},"type":"Rocks"},{"x":1408,"y":256,"exts":{},"type":"Rocks"},{"x":1472,"y":256,"exts":{},"type":"Rocks"},{"x":1536,"y":256,"exts":{},"type":"Rocks"},{"x":1600,"y":256,"exts":{},"type":"Rocks"},{"x":1600,"y":256,"exts":{},"type":"Rocks"},{"x":1088,"y":512,"exts":{},"type":"Rocks"},{"x":1024,"y":512,"exts":{},"type":"Rocks"},{"x":1088,"y":512,"exts":{},"type":"Rocks"},{"x":1152,"y":512,"exts":{},"type":"Rocks"},{"x":1216,"y":512,"exts":{},"type":"Rocks"},{"x":1280,"y":512,"exts":{},"type":"Rocks"},{"x":1344,"y":512,"exts":{},"type":"Rocks"},{"x":1408,"y":512,"exts":{},"type":"Rocks"},{"x":1472,"y":512,"exts":{},"type":"Rocks"},{"x":1536,"y":512,"exts":{},"type":"Rocks"},{"x":1600,"y":512,"exts":{},"type":"Rocks"},{"x":1664,"y":512,"exts":{},"type":"Rocks"},{"x":1728,"y":512,"exts":{},"type":"Rocks"},{"x":1728,"y":576,"exts":{},"type":"Rocks"},{"x":1728,"y":640,"exts":{},"type":"Rocks"},{"x":1728,"y":704,"exts":{},"type":"Rocks"},{"x":1664,"y":704,"exts":{},"type":"Rocks"},{"x":1600,"y":704,"exts":{},"type":"Rocks"},{"x":1536,"y":704,"exts":{},"type":"Rocks"},{"x":1472,"y":704,"exts":{},"type":"Rocks"},{"x":1408,"y":704,"exts":{},"type":"Rocks"},{"x":1344,"y":704,"exts":{},"type":"Rocks"},{"x":1280,"y":704,"exts":{},"type":"Rocks"},{"x":1216,"y":704,"exts":{},"type":"Rocks"},{"x":1152,"y":704,"exts":{},"type":"Rocks"},{"x":1088,"y":704,"exts":{},"type":"Rocks"},{"x":1024,"y":704,"exts":{},"type":"Rocks"},{"x":1088,"y":704,"exts":{},"type":"Rocks"},{"x":1088,"y":640,"exts":{},"type":"Rocks"},{"x":1024,"y":640,"exts":{},"type":"Rocks"},{"x":1024,"y":576,"exts":{},"type":"Rocks"},{"x":1088,"y":576,"exts":{},"type":"Rocks"},{"x":1152,"y":576,"exts":{},"type":"Rocks"},{"x":1216,"y":576,"exts":{},"type":"Rocks"},{"x":1280,"y":576,"exts":{},"type":"Rocks"},{"x":1344,"y":576,"exts":{},"type":"Rocks"},{"x":1408,"y":640,"exts":{},"type":"Rocks"},{"x":1472,"y":640,"exts":{},"type":"Rocks"},{"x":1536,"y":640,"exts":{},"type":"Rocks"},{"x":1600,"y":640,"exts":{},"type":"Rocks"},{"x":1664,"y":640,"exts":{},"type":"Rocks"},{"x":1664,"y":576,"exts":{},"type":"Rocks"},{"x":1600,"y":576,"exts":{},"type":"Rocks"},{"x":1536,"y":576,"exts":{},"type":"Rocks"},{"x":1472,"y":576,"exts":{},"type":"Rocks"},{"x":1408,"y":576,"exts":{},"type":"Rocks"},{"x":1408,"y":576,"exts":{},"type":"Rocks"},{"x":1344,"y":640,"exts":{},"type":"Rocks"},{"x":1280,"y":640,"exts":{},"type":"Rocks"},{"x":1216,"y":640,"exts":{},"type":"Rocks"},{"x":1152,"y":640,"exts":{},"type":"Rocks"},{"x":1152,"y":640,"exts":{},"type":"Rocks"},{"x":1408,"y":448,"exts":{},"type":"Rocks_Top"},{"x":1472,"y":448,"exts":{},"type":"Rocks_Top"},{"x":1472,"y":448,"exts":{},"type":"Rocks_Top"},{"x":1536,"y":448,"exts":{},"type":"Rocks_Top"},{"x":64,"y":320,"exts":{},"type":"Robot"},{"x":128,"y":320,"exts":{},"type":"Rocks_Top"},{"x":192,"y":384,"exts":{},"type":"Rocks_Top"},{"x":256,"y":384,"exts":{},"type":"Rocks_Top"},{"x":192,"y":448,"exts":{},"type":"Rocks"},{"x":256,"y":448,"exts":{},"type":"Rocks"},{"x":256,"y":512,"exts":{},"type":"Rocks"},{"x":192,"y":512,"exts":{},"type":"Rocks"},{"x":512,"y":384,"exts":{},"type":"Rocks_Top"},{"x":576,"y":384,"exts":{},"type":"Rocks_Top"},{"x":-192,"y":64,"exts":{},"type":"Rocks_Top"},{"x":-128,"y":64,"exts":{},"type":"Rocks_Top"},{"x":-64,"y":64,"exts":{},"type":"Rocks_Top"},{"x":-64,"y":64,"exts":{},"type":"Rocks_Top"},{"x":1536,"y":128,"exts":{},"type":"Exit"},{"x":928,"y":160,"exts":{},"type":"GreenCrystal"},{"x":992,"y":160,"exts":{},"type":"GreenCrystal"},{"x":64,"y":192,"exts":{},"type":"GreenCrystal"},{"x":704,"y":224,"exts":{},"type":"GreenCrystal"},{"x":416,"y":288,"exts":{},"type":"GreenCrystal"},{"x":1504,"y":384,"exts":{},"type":"Heart"},{"x":1280,"y":192,"exts":{},"type":"Rocks_Top"}]'),bgs:JSON.parse('[{"depth":-10,"texture":"BG","extends":{}}]'),tiles:JSON.parse('[{"depth":-10,"tiles":[],"extends":{}}]'),backgroundColor:"#000000",onStep(){},onDraw(){},onLeave(){},onCreate(){this.nextRoom="Level_02",inGameRoomStart(this)},extends:{}},ct.rooms.templates.Level_02={name:"Level_02",width:1024,height:576,objects:JSON.parse('[{"x":320,"y":320,"exts":{},"type":"Rocks_Top"},{"x":384,"y":320,"exts":{},"type":"Rocks_Top"},{"x":384,"y":320,"exts":{},"type":"Robot"},{"x":320,"y":384,"exts":{},"type":"Rocks"},{"x":320,"y":448,"exts":{},"type":"Rocks"},{"x":320,"y":512,"exts":{},"type":"Rocks"},{"x":320,"y":576,"exts":{},"type":"Rocks"},{"x":384,"y":576,"exts":{},"type":"Rocks"},{"x":384,"y":512,"exts":{},"type":"Rocks"},{"x":384,"y":448,"exts":{},"type":"Rocks"},{"x":384,"y":384,"exts":{},"type":"Rocks"},{"x":384,"y":384,"exts":{},"type":"Rocks"},{"x":128,"y":320,"exts":{},"type":"Rocks_Top"},{"x":192,"y":320,"exts":{},"type":"Water_Top"},{"x":256,"y":320,"exts":{},"type":"Water_Top"},{"x":192,"y":384,"exts":{},"type":"Water"},{"x":256,"y":384,"exts":{},"type":"Water"},{"x":256,"y":384,"exts":{},"type":"Water"},{"x":128,"y":384,"exts":{},"type":"Rocks"},{"x":128,"y":448,"exts":{},"type":"Rocks"},{"x":192,"y":448,"exts":{},"type":"Rocks"},{"x":256,"y":448,"exts":{},"type":"Rocks"},{"x":256,"y":512,"exts":{},"type":"Rocks"},{"x":256,"y":576,"exts":{},"type":"Rocks"},{"x":128,"y":512,"exts":{},"type":"Rocks"},{"x":192,"y":512,"exts":{},"type":"Rocks"},{"x":192,"y":512,"exts":{},"type":"Rocks"},{"x":256,"y":640,"exts":{},"type":"Rocks"},{"x":320,"y":640,"exts":{},"type":"Rocks"},{"x":384,"y":640,"exts":{},"type":"Rocks"},{"x":384,"y":704,"exts":{},"type":"Rocks"},{"x":320,"y":704,"exts":{},"type":"Rocks"},{"x":256,"y":704,"exts":{},"type":"Rocks"},{"x":192,"y":704,"exts":{},"type":"Rocks"},{"x":-128,"y":576,"exts":{},"type":"Rocks"},{"x":-128,"y":640,"exts":{},"type":"Rocks"},{"x":-128,"y":704,"exts":{},"type":"Rocks"},{"x":-64,"y":704,"exts":{},"type":"Rocks"},{"x":-64,"y":640,"exts":{},"type":"Rocks"},{"x":-64,"y":576,"exts":{},"type":"Rocks"},{"x":-64,"y":576,"exts":{},"type":"Rocks"},{"x":-256,"y":448,"exts":{},"type":"Rocks_Platform"},{"x":-384,"y":384,"exts":{},"type":"Rocks_Platform"},{"x":-512,"y":320,"exts":{},"type":"Rocks_Platform"},{"x":-320,"y":256,"exts":{},"type":"Rocks_Platform"},{"x":-128,"y":192,"exts":{},"type":"Rocks_Platform"},{"x":64,"y":128,"exts":{},"type":"Rocks_Platform"},{"x":128,"y":128,"exts":{},"type":"Rocks_Platform"},{"x":-640,"y":320,"exts":{},"type":"Rocks_Top"},{"x":-704,"y":320,"exts":{},"type":"Rocks_Top"},{"x":-704,"y":384,"exts":{},"type":"Rocks"},{"x":-704,"y":448,"exts":{},"type":"Rocks"},{"x":-704,"y":512,"exts":{},"type":"Rocks"},{"x":-704,"y":576,"exts":{},"type":"Rocks"},{"x":-704,"y":640,"exts":{},"type":"Rocks"},{"x":-640,"y":704,"exts":{},"type":"Rocks"},{"x":-704,"y":704,"exts":{},"type":"Rocks"},{"x":-640,"y":704,"exts":{},"type":"Rocks"},{"x":-576,"y":704,"exts":{},"type":"Rocks"},{"x":-512,"y":704,"exts":{},"type":"Rocks"},{"x":-448,"y":704,"exts":{},"type":"Rocks"},{"x":-384,"y":704,"exts":{},"type":"Rocks"},{"x":-320,"y":704,"exts":{},"type":"Rocks"},{"x":-256,"y":704,"exts":{},"type":"Rocks"},{"x":-192,"y":704,"exts":{},"type":"Rocks"},{"x":-192,"y":640,"exts":{},"type":"Rocks"},{"x":-256,"y":640,"exts":{},"type":"Rocks"},{"x":-320,"y":640,"exts":{},"type":"Rocks"},{"x":-384,"y":640,"exts":{},"type":"Rocks"},{"x":-448,"y":640,"exts":{},"type":"Rocks"},{"x":-512,"y":640,"exts":{},"type":"Rocks"},{"x":-576,"y":640,"exts":{},"type":"Rocks"},{"x":-640,"y":640,"exts":{},"type":"Rocks"},{"x":-640,"y":640,"exts":{},"type":"Rocks"},{"x":-640,"y":384,"exts":{},"type":"Rocks"},{"x":-640,"y":448,"exts":{},"type":"Rocks"},{"x":-640,"y":512,"exts":{},"type":"Rocks"},{"x":-640,"y":576,"exts":{},"type":"Rocks"},{"x":-640,"y":576,"exts":{},"type":"Rocks"},{"x":-768,"y":384,"exts":{},"type":"Rocks"},{"x":-768,"y":320,"exts":{},"type":"Rocks"},{"x":-768,"y":256,"exts":{},"type":"Rocks"},{"x":-768,"y":192,"exts":{},"type":"Rocks"},{"x":-768,"y":128,"exts":{},"type":"Rocks"},{"x":-832,"y":128,"exts":{},"type":"Rocks"},{"x":-832,"y":192,"exts":{},"type":"Rocks"},{"x":-832,"y":256,"exts":{},"type":"Rocks"},{"x":-832,"y":320,"exts":{},"type":"Rocks"},{"x":-832,"y":384,"exts":{},"type":"Rocks"},{"x":-832,"y":448,"exts":{},"type":"Rocks"},{"x":-832,"y":512,"exts":{},"type":"Rocks"},{"x":-832,"y":576,"exts":{},"type":"Rocks"},{"x":-832,"y":576,"exts":{},"type":"Rocks"},{"x":-768,"y":448,"exts":{},"type":"Rocks"},{"x":-768,"y":512,"exts":{},"type":"Rocks"},{"x":-768,"y":576,"exts":{},"type":"Rocks"},{"x":-768,"y":640,"exts":{},"type":"Rocks"},{"x":-768,"y":704,"exts":{},"type":"Rocks"},{"x":-768,"y":704,"exts":{},"type":"Rocks"},{"x":-832,"y":640,"exts":{},"type":"Rocks"},{"x":-832,"y":704,"exts":{},"type":"Rocks"},{"x":-832,"y":704,"exts":{},"type":"Rocks"},{"x":192,"y":640,"exts":{},"type":"Rocks"},{"x":192,"y":576,"exts":{},"type":"Rocks"},{"x":192,"y":576,"exts":{},"type":"Rocks"},{"x":128,"y":576,"exts":{},"type":"Rocks"},{"x":128,"y":640,"exts":{},"type":"Rocks"},{"x":128,"y":704,"exts":{},"type":"Rocks"},{"x":128,"y":704,"exts":{},"type":"Rocks"},{"x":0,"y":640,"exts":{},"type":"Rocks"},{"x":0,"y":704,"exts":{},"type":"Rocks"},{"x":64,"y":704,"exts":{},"type":"Rocks"},{"x":64,"y":640,"exts":{},"type":"Rocks"},{"x":64,"y":640,"exts":{},"type":"Rocks"},{"x":-192,"y":512,"exts":{},"type":"Water_Top"},{"x":-256,"y":512,"exts":{},"type":"Water_Top"},{"x":-320,"y":512,"exts":{},"type":"Water_Top"},{"x":-384,"y":512,"exts":{},"type":"Water_Top"},{"x":-448,"y":512,"exts":{},"type":"Water_Top"},{"x":-512,"y":512,"exts":{},"type":"Water_Top"},{"x":-576,"y":512,"exts":{},"type":"Water_Top"},{"x":-576,"y":512,"exts":{},"type":"Water_Top"},{"x":-576,"y":576,"exts":{},"type":"Water"},{"x":-512,"y":576,"exts":{},"type":"Water"},{"x":-448,"y":576,"exts":{},"type":"Water"},{"x":-384,"y":576,"exts":{},"type":"Water"},{"x":-320,"y":576,"exts":{},"type":"Water"},{"x":-256,"y":576,"exts":{},"type":"Water"},{"x":-192,"y":576,"exts":{},"type":"Water"},{"x":-192,"y":576,"exts":{},"type":"Water"},{"x":-832,"y":64,"exts":{},"type":"Rocks_Top"},{"x":-768,"y":64,"exts":{},"type":"Rocks_Top"},{"x":-768,"y":64,"exts":{},"type":"Rocks_Top"},{"x":-704,"y":0,"exts":{},"type":"Rocks_Top"},{"x":-640,"y":0,"exts":{},"type":"Rocks_Top"},{"x":-576,"y":0,"exts":{},"type":"Rocks_Top"},{"x":-576,"y":0,"exts":{},"type":"Rocks_Top"},{"x":-448,"y":-128,"exts":{},"type":"Rocks_Top"},{"x":-384,"y":-128,"exts":{},"type":"Rocks_Top"},{"x":-320,"y":-128,"exts":{},"type":"Rocks_Top"},{"x":-320,"y":-128,"exts":{},"type":"Rocks_Top"},{"x":-448,"y":-64,"exts":{},"type":"Rocks"},{"x":-448,"y":0,"exts":{},"type":"Rocks"},{"x":-384,"y":0,"exts":{},"type":"Rocks"},{"x":-320,"y":0,"exts":{},"type":"Rocks"},{"x":-320,"y":-64,"exts":{},"type":"Rocks"},{"x":-384,"y":-64,"exts":{},"type":"Rocks"},{"x":-384,"y":-64,"exts":{},"type":"Rocks"},{"x":-704,"y":64,"exts":{},"type":"Rocks"},{"x":-640,"y":64,"exts":{},"type":"Rocks"},{"x":-576,"y":64,"exts":{},"type":"Rocks"},{"x":-512,"y":64,"exts":{},"type":"Rocks"},{"x":-448,"y":64,"exts":{},"type":"Rocks"},{"x":-448,"y":64,"exts":{},"type":"Rocks"},{"x":-512,"y":0,"exts":{},"type":"Rocks_Top"},{"x":-256,"y":-64,"exts":{},"type":"Rocks"},{"x":-192,"y":-64,"exts":{},"type":"Rocks"},{"x":-128,"y":-64,"exts":{},"type":"Rocks"},{"x":-64,"y":-64,"exts":{},"type":"Rocks"},{"x":0,"y":-64,"exts":{},"type":"Rocks"},{"x":64,"y":-64,"exts":{},"type":"Rocks"},{"x":64,"y":-64,"exts":{},"type":"Rocks"},{"x":128,"y":-64,"exts":{},"type":"Rocks"},{"x":-256,"y":-128,"exts":{},"type":"Rocks_Top"},{"x":-192,"y":-128,"exts":{},"type":"Rocks_Top"},{"x":-128,"y":-128,"exts":{},"type":"Rocks_Top"},{"x":-64,"y":-128,"exts":{},"type":"Rocks_Top"},{"x":0,"y":-128,"exts":{},"type":"Rocks_Top"},{"x":64,"y":-128,"exts":{},"type":"Rocks_Top"},{"x":128,"y":-128,"exts":{},"type":"Rocks_Top"},{"x":128,"y":-128,"exts":{},"type":"Rocks_Top"},{"x":192,"y":128,"exts":{},"type":"Rocks_Platform"},{"x":192,"y":-128,"exts":{},"type":"Rocks_Top"},{"x":256,"y":-128,"exts":{},"type":"Rocks_Top"},{"x":320,"y":-128,"exts":{},"type":"Rocks_Top"},{"x":384,"y":-128,"exts":{},"type":"Rocks_Top"},{"x":448,"y":-128,"exts":{},"type":"Rocks_Top"},{"x":512,"y":-128,"exts":{},"type":"Rocks_Top"},{"x":576,"y":-128,"exts":{},"type":"Rocks_Top"},{"x":640,"y":-128,"exts":{},"type":"Rocks_Top"},{"x":704,"y":-128,"exts":{},"type":"Rocks_Top"},{"x":192,"y":-64,"exts":{},"type":"Rocks"},{"x":256,"y":-64,"exts":{},"type":"Rocks"},{"x":320,"y":-64,"exts":{},"type":"Rocks"},{"x":384,"y":-64,"exts":{},"type":"Rocks"},{"x":448,"y":-64,"exts":{},"type":"Rocks"},{"x":512,"y":-64,"exts":{},"type":"Rocks"},{"x":576,"y":-64,"exts":{},"type":"Rocks"},{"x":640,"y":-64,"exts":{},"type":"Rocks"},{"x":704,"y":-64,"exts":{},"type":"Rocks"},{"x":768,"y":-64,"exts":{},"type":"Rocks"},{"x":576,"y":320,"exts":{},"type":"Rocks_Top"},{"x":640,"y":320,"exts":{},"type":"Rocks_Top"},{"x":704,"y":320,"exts":{},"type":"Rocks_Top"},{"x":704,"y":320,"exts":{},"type":"Rocks_Top"},{"x":448,"y":320,"exts":{},"type":"Water_Top"},{"x":512,"y":320,"exts":{},"type":"Water_Top"},{"x":512,"y":320,"exts":{},"type":"Water_Top"},{"x":448,"y":384,"exts":{},"type":"Water"},{"x":512,"y":384,"exts":{},"type":"Water"},{"x":512,"y":384,"exts":{},"type":"Water"},{"x":448,"y":448,"exts":{},"type":"Rocks"},{"x":512,"y":448,"exts":{},"type":"Rocks"},{"x":576,"y":448,"exts":{},"type":"Rocks"},{"x":640,"y":448,"exts":{},"type":"Rocks"},{"x":576,"y":448,"exts":{},"type":"Rocks"},{"x":576,"y":384,"exts":{},"type":"Rocks"},{"x":640,"y":384,"exts":{},"type":"Rocks"},{"x":704,"y":384,"exts":{},"type":"Rocks"},{"x":704,"y":448,"exts":{},"type":"Rocks"},{"x":704,"y":512,"exts":{},"type":"Rocks"},{"x":704,"y":576,"exts":{},"type":"Rocks"},{"x":704,"y":640,"exts":{},"type":"Rocks"},{"x":704,"y":704,"exts":{},"type":"Rocks"},{"x":704,"y":704,"exts":{},"type":"Rocks"},{"x":448,"y":640,"exts":{},"type":"Rocks"},{"x":512,"y":640,"exts":{},"type":"Rocks"},{"x":512,"y":704,"exts":{},"type":"Rocks"},{"x":576,"y":704,"exts":{},"type":"Rocks"},{"x":640,"y":704,"exts":{},"type":"Rocks"},{"x":640,"y":704,"exts":{},"type":"Rocks"},{"x":448,"y":704,"exts":{},"type":"Rocks"},{"x":448,"y":576,"exts":{},"type":"Water_Top"},{"x":512,"y":576,"exts":{},"type":"Water_Top"},{"x":576,"y":576,"exts":{},"type":"Water_Top"},{"x":640,"y":576,"exts":{},"type":"Water_Top"},{"x":640,"y":576,"exts":{},"type":"Water_Top"},{"x":576,"y":640,"exts":{},"type":"Water"},{"x":640,"y":640,"exts":{},"type":"Water"},{"x":128,"y":256,"exts":{},"type":"Checkpoint"},{"x":320,"y":256,"exts":{},"type":"Checkpoint"},{"x":384,"y":256,"exts":{},"type":"Checkpoint"},{"x":-512,"y":256,"exts":{},"type":"Checkpoint"},{"x":640,"y":256,"exts":{},"type":"Checkpoint"},{"x":768,"y":320,"exts":{},"type":"Spikes"},{"x":960,"y":320,"exts":{},"type":"Spikes"},{"x":1024,"y":320,"exts":{},"type":"Spikes"},{"x":1152,"y":320,"exts":{},"type":"Spikes"},{"x":1216,"y":320,"exts":{},"type":"Spikes"},{"x":832,"y":320,"exts":{},"type":"Rocks_Top"},{"x":896,"y":320,"exts":{},"type":"Rocks_Top"},{"x":1088,"y":320,"exts":{},"type":"Rocks_Top"},{"x":1280,"y":320,"exts":{},"type":"Rocks_Top"},{"x":768,"y":384,"exts":{},"type":"Rocks_Top"},{"x":960,"y":384,"exts":{},"type":"Rocks_Top"},{"x":1024,"y":384,"exts":{},"type":"Rocks_Top"},{"x":1152,"y":384,"exts":{},"type":"Rocks_Top"},{"x":1216,"y":384,"exts":{},"type":"Rocks_Top"},{"x":768,"y":448,"exts":{},"type":"Rocks"},{"x":768,"y":512,"exts":{},"type":"Rocks"},{"x":768,"y":576,"exts":{},"type":"Rocks"},{"x":768,"y":640,"exts":{},"type":"Rocks"},{"x":768,"y":704,"exts":{},"type":"Rocks"},{"x":832,"y":704,"exts":{},"type":"Rocks"},{"x":896,"y":704,"exts":{},"type":"Rocks"},{"x":960,"y":704,"exts":{},"type":"Rocks"},{"x":1024,"y":704,"exts":{},"type":"Rocks"},{"x":1088,"y":704,"exts":{},"type":"Rocks"},{"x":1152,"y":704,"exts":{},"type":"Rocks"},{"x":1216,"y":704,"exts":{},"type":"Rocks"},{"x":1280,"y":704,"exts":{},"type":"Rocks"},{"x":1344,"y":704,"exts":{},"type":"Rocks"},{"x":1408,"y":704,"exts":{},"type":"Rocks"},{"x":1472,"y":704,"exts":{},"type":"Rocks"},{"x":1472,"y":640,"exts":{},"type":"Rocks"},{"x":1472,"y":576,"exts":{},"type":"Rocks"},{"x":1472,"y":512,"exts":{},"type":"Rocks"},{"x":1472,"y":448,"exts":{},"type":"Rocks"},{"x":1472,"y":384,"exts":{},"type":"Rocks"},{"x":1408,"y":384,"exts":{},"type":"Rocks"},{"x":1344,"y":384,"exts":{},"type":"Rocks"},{"x":1344,"y":448,"exts":{},"type":"Rocks"},{"x":1280,"y":448,"exts":{},"type":"Rocks"},{"x":1280,"y":448,"exts":{},"type":"Rocks"},{"x":1280,"y":384,"exts":{},"type":"Rocks"},{"x":1408,"y":448,"exts":{},"type":"Rocks"},{"x":1408,"y":512,"exts":{},"type":"Rocks"},{"x":1408,"y":576,"exts":{},"type":"Rocks"},{"x":1408,"y":640,"exts":{},"type":"Rocks"},{"x":1344,"y":640,"exts":{},"type":"Rocks"},{"x":1280,"y":640,"exts":{},"type":"Rocks"},{"x":1280,"y":576,"exts":{},"type":"Rocks"},{"x":1280,"y":512,"exts":{},"type":"Rocks"},{"x":1344,"y":512,"exts":{},"type":"Rocks"},{"x":1344,"y":576,"exts":{},"type":"Rocks"},{"x":1344,"y":576,"exts":{},"type":"Rocks"},{"x":1216,"y":448,"exts":{},"type":"Rocks"},{"x":1216,"y":512,"exts":{},"type":"Rocks"},{"x":1216,"y":576,"exts":{},"type":"Rocks"},{"x":1216,"y":640,"exts":{},"type":"Rocks"},{"x":1152,"y":640,"exts":{},"type":"Rocks"},{"x":1152,"y":576,"exts":{},"type":"Rocks"},{"x":1152,"y":512,"exts":{},"type":"Rocks"},{"x":1152,"y":448,"exts":{},"type":"Rocks"},{"x":1088,"y":448,"exts":{},"type":"Rocks"},{"x":1088,"y":448,"exts":{},"type":"Rocks"},{"x":1088,"y":384,"exts":{},"type":"Rocks"},{"x":1088,"y":512,"exts":{},"type":"Rocks"},{"x":1088,"y":576,"exts":{},"type":"Rocks"},{"x":1088,"y":640,"exts":{},"type":"Rocks"},{"x":1088,"y":640,"exts":{},"type":"Rocks"},{"x":1024,"y":640,"exts":{},"type":"Rocks"},{"x":1024,"y":576,"exts":{},"type":"Rocks"},{"x":1024,"y":512,"exts":{},"type":"Rocks"},{"x":1024,"y":448,"exts":{},"type":"Rocks"},{"x":1024,"y":448,"exts":{},"type":"Rocks"},{"x":960,"y":448,"exts":{},"type":"Rocks"},{"x":960,"y":512,"exts":{},"type":"Rocks"},{"x":960,"y":576,"exts":{},"type":"Rocks"},{"x":960,"y":640,"exts":{},"type":"Rocks"},{"x":960,"y":640,"exts":{},"type":"Rocks"},{"x":896,"y":640,"exts":{},"type":"Rocks"},{"x":896,"y":576,"exts":{},"type":"Rocks"},{"x":896,"y":512,"exts":{},"type":"Rocks"},{"x":896,"y":448,"exts":{},"type":"Rocks"},{"x":896,"y":384,"exts":{},"type":"Rocks"},{"x":896,"y":384,"exts":{},"type":"Rocks"},{"x":832,"y":384,"exts":{},"type":"Rocks"},{"x":832,"y":448,"exts":{},"type":"Rocks"},{"x":832,"y":512,"exts":{},"type":"Rocks"},{"x":832,"y":576,"exts":{},"type":"Rocks"},{"x":832,"y":640,"exts":{},"type":"Rocks"},{"x":832,"y":640,"exts":{},"type":"Rocks"},{"x":1344,"y":256,"exts":{},"type":"Rocks_Top"},{"x":1408,"y":192,"exts":{},"type":"Rocks_Top"},{"x":1472,"y":128,"exts":{},"type":"Rocks_Top"},{"x":1536,"y":128,"exts":{},"type":"Rocks_Top"},{"x":1472,"y":320,"exts":{},"type":"Rocks"},{"x":1408,"y":320,"exts":{},"type":"Rocks"},{"x":1408,"y":256,"exts":{},"type":"Rocks"},{"x":1472,"y":256,"exts":{},"type":"Rocks"},{"x":1536,"y":256,"exts":{},"type":"Rocks"},{"x":1536,"y":192,"exts":{},"type":"Rocks"},{"x":1472,"y":192,"exts":{},"type":"Rocks"},{"x":1472,"y":192,"exts":{},"type":"Rocks"},{"x":1536,"y":320,"exts":{},"type":"Rocks"},{"x":1536,"y":384,"exts":{},"type":"Rocks"},{"x":1536,"y":448,"exts":{},"type":"Rocks"},{"x":1536,"y":512,"exts":{},"type":"Rocks"},{"x":1536,"y":576,"exts":{},"type":"Rocks"},{"x":1536,"y":576,"exts":{},"type":"Rocks"},{"x":1536,"y":640,"exts":{},"type":"Rocks"},{"x":1536,"y":704,"exts":{},"type":"Rocks"},{"x":1600,"y":0,"exts":{},"type":"Rocks"},{"x":1600,"y":64,"exts":{},"type":"Rocks"},{"x":1600,"y":128,"exts":{},"type":"Rocks"},{"x":1600,"y":192,"exts":{},"type":"Rocks"},{"x":1600,"y":256,"exts":{},"type":"Rocks"},{"x":1600,"y":320,"exts":{},"type":"Rocks"},{"x":1600,"y":384,"exts":{},"type":"Rocks"},{"x":1600,"y":448,"exts":{},"type":"Rocks"},{"x":1600,"y":512,"exts":{},"type":"Rocks"},{"x":1664,"y":512,"exts":{},"type":"Rocks"},{"x":1664,"y":576,"exts":{},"type":"Rocks"},{"x":1600,"y":640,"exts":{},"type":"Rocks"},{"x":1600,"y":704,"exts":{},"type":"Rocks"},{"x":1664,"y":704,"exts":{},"type":"Rocks"},{"x":1664,"y":704,"exts":{},"type":"Rocks"},{"x":1600,"y":576,"exts":{},"type":"Rocks"},{"x":1664,"y":640,"exts":{},"type":"Rocks"},{"x":1664,"y":448,"exts":{},"type":"Rocks"},{"x":1664,"y":384,"exts":{},"type":"Rocks"},{"x":1664,"y":320,"exts":{},"type":"Rocks"},{"x":1664,"y":256,"exts":{},"type":"Rocks"},{"x":1664,"y":192,"exts":{},"type":"Rocks"},{"x":1664,"y":128,"exts":{},"type":"Rocks"},{"x":1664,"y":64,"exts":{},"type":"Rocks"},{"x":1664,"y":0,"exts":{},"type":"Rocks"},{"x":1664,"y":-64,"exts":{},"type":"Rocks"},{"x":1664,"y":-64,"exts":{},"type":"Rocks"},{"x":1664,"y":-128,"exts":{},"type":"Rocks_Top"},{"x":1600,"y":-128,"exts":{},"type":"Rocks_Top"},{"x":1280,"y":64,"exts":{},"type":"Rocks_Platform"},{"x":1216,"y":64,"exts":{},"type":"Rocks_Platform"},{"x":1088,"y":64,"exts":{},"type":"Rocks_Platform"},{"x":1024,"y":64,"exts":{},"type":"Rocks_Platform"},{"x":960,"y":64,"exts":{},"type":"Rocks_Platform"},{"x":832,"y":-128,"exts":{},"type":"Rocks"},{"x":896,"y":-128,"exts":{},"type":"Rocks"},{"x":960,"y":-128,"exts":{},"type":"Rocks"},{"x":1024,"y":-128,"exts":{},"type":"Rocks"},{"x":1088,"y":-128,"exts":{},"type":"Rocks"},{"x":1152,"y":-128,"exts":{},"type":"Rocks"},{"x":1216,"y":-128,"exts":{},"type":"Rocks"},{"x":1280,"y":-128,"exts":{},"type":"Rocks"},{"x":1344,"y":-128,"exts":{},"type":"Rocks"},{"x":1408,"y":-128,"exts":{},"type":"Rocks"},{"x":1408,"y":-128,"exts":{},"type":"Rocks"},{"x":832,"y":-192,"exts":{},"type":"Rocks_Top"},{"x":896,"y":-192,"exts":{},"type":"Rocks_Top"},{"x":960,"y":-192,"exts":{},"type":"Rocks_Top"},{"x":1024,"y":-192,"exts":{},"type":"Rocks_Top"},{"x":1088,"y":-192,"exts":{},"type":"Rocks_Top"},{"x":1152,"y":-192,"exts":{},"type":"Rocks_Top"},{"x":1216,"y":-192,"exts":{},"type":"Rocks_Top"},{"x":1280,"y":-192,"exts":{},"type":"Rocks_Top"},{"x":1344,"y":-192,"exts":{},"type":"Rocks_Top"},{"x":1408,"y":-192,"exts":{},"type":"Rocks_Top"},{"x":1408,"y":-192,"exts":{},"type":"Rocks_Top"},{"x":1472,"y":-192,"exts":{},"type":"Rocks_Top"},{"x":1536,"y":-192,"exts":{},"type":"Rocks_Top"},{"x":1536,"y":-192,"exts":{},"type":"Rocks_Top"},{"x":1472,"y":-128,"exts":{},"type":"Rocks"},{"x":1536,"y":-128,"exts":{},"type":"Rocks"},{"x":1600,"y":-64,"exts":{},"type":"Rocks"},{"x":1536,"y":-64,"exts":{},"type":"Rocks"},{"x":768,"y":-128,"exts":{},"type":"Rocks"},{"x":768,"y":-192,"exts":{},"type":"Rocks_Top"},{"x":1280,"y":256,"exts":{},"type":"Checkpoint"},{"x":1344,"y":320,"exts":{},"type":"Rocks"},{"x":1280,"y":0,"exts":{},"type":"Checkpoint"},{"x":1216,"y":0,"exts":{},"type":"Checkpoint"},{"x":832,"y":256,"exts":{},"type":"Checkpoint"},{"x":128,"y":64,"exts":{},"type":"Checkpoint"},{"x":-64,"y":448,"exts":{},"type":"Rocks_Top"},{"x":-128,"y":448,"exts":{},"type":"Rocks_Top"},{"x":-64,"y":512,"exts":{},"type":"Rocks"},{"x":-128,"y":512,"exts":{},"type":"Rocks"},{"x":0,"y":576,"exts":{},"type":"Rocks"},{"x":64,"y":576,"exts":{},"type":"Rocks"},{"x":0,"y":512,"exts":{},"type":"Rocks_Top"},{"x":64,"y":512,"exts":{},"type":"Rocks_Top"},{"x":0,"y":448,"exts":{},"type":"Spikes"},{"x":64,"y":448,"exts":{},"type":"Spikes"},{"x":1024,"y":0,"exts":{},"type":"Exit"},{"x":-672,"y":288,"exts":{},"type":"GreenCrystal"},{"x":-608,"y":288,"exts":{},"type":"GreenCrystal"},{"x":-640,"y":256,"exts":{},"type":"GreenCrystal"},{"x":1536,"y":96,"exts":{},"type":"GreenCrystal"},{"x":1024,"y":224,"exts":{},"type":"GreenCrystal"},{"x":1216,"y":224,"exts":{},"type":"GreenCrystal"},{"x":128,"y":96,"exts":{},"type":"GreenCrystal"},{"x":192,"y":96,"exts":{},"type":"Heart"}]'),bgs:JSON.parse('[{"depth":-10,"texture":"BG","extends":{}}]'),tiles:JSON.parse('[{"depth":-10,"tiles":[],"extends":{}}]'),backgroundColor:"#000000",onStep(){},onDraw(){},onLeave(){},onCreate(){this.nextRoom="Level_03",inGameRoomStart(this)},extends:{}},ct.rooms.templates.Level_03={name:"Level_03",width:1024,height:576,objects:JSON.parse('[{"x":384,"y":256,"exts":{},"type":"Rocks_Top"},{"x":448,"y":256,"exts":{},"type":"Rocks_Top"},{"x":448,"y":256,"exts":{},"type":"Robot"},{"x":384,"y":320,"exts":{},"type":"Rocks"},{"x":384,"y":384,"exts":{},"type":"Rocks"},{"x":384,"y":448,"exts":{},"type":"Rocks"},{"x":448,"y":448,"exts":{},"type":"Rocks"},{"x":448,"y":384,"exts":{},"type":"Rocks"},{"x":448,"y":320,"exts":{},"type":"Rocks"},{"x":448,"y":320,"exts":{},"type":"Rocks"},{"x":512,"y":320,"exts":{},"type":"Water_Top"},{"x":576,"y":320,"exts":{},"type":"Water_Top"},{"x":640,"y":320,"exts":{},"type":"Water_Top"},{"x":704,"y":320,"exts":{},"type":"Water_Top"},{"x":768,"y":320,"exts":{},"type":"Water_Top"},{"x":832,"y":320,"exts":{},"type":"Water_Top"},{"x":832,"y":320,"exts":{},"type":"Water_Top"},{"x":320,"y":320,"exts":{},"type":"Water_Top"},{"x":256,"y":320,"exts":{},"type":"Water_Top"},{"x":192,"y":320,"exts":{},"type":"Water_Top"},{"x":128,"y":320,"exts":{},"type":"Water_Top"},{"x":64,"y":320,"exts":{},"type":"Water_Top"},{"x":64,"y":320,"exts":{},"type":"Water_Top"},{"x":0,"y":256,"exts":{},"type":"Rocks_Top"},{"x":-64,"y":256,"exts":{},"type":"Rocks_Top"},{"x":-64,"y":256,"exts":{},"type":"Rocks_Top"},{"x":-128,"y":64,"exts":{},"type":"Rocks_Top"},{"x":-192,"y":-64,"exts":{},"type":"Rocks_Top"},{"x":-256,"y":192,"exts":{},"type":"Rocks_Top"},{"x":-192,"y":0,"exts":{},"type":"Rocks"},{"x":-192,"y":64,"exts":{},"type":"Rocks"},{"x":-192,"y":128,"exts":{},"type":"Rocks"},{"x":-192,"y":192,"exts":{},"type":"Rocks"},{"x":-192,"y":256,"exts":{},"type":"Rocks"},{"x":-192,"y":320,"exts":{},"type":"Rocks"},{"x":-192,"y":384,"exts":{},"type":"Rocks"},{"x":-192,"y":448,"exts":{},"type":"Rocks"},{"x":-192,"y":512,"exts":{},"type":"Rocks"},{"x":-192,"y":512,"exts":{},"type":"Rocks"},{"x":-256,"y":256,"exts":{},"type":"Rocks"},{"x":-256,"y":320,"exts":{},"type":"Rocks"},{"x":-256,"y":384,"exts":{},"type":"Rocks"},{"x":-256,"y":448,"exts":{},"type":"Rocks"},{"x":-256,"y":512,"exts":{},"type":"Rocks"},{"x":-256,"y":512,"exts":{},"type":"Rocks"},{"x":0,"y":320,"exts":{},"type":"Rocks"},{"x":0,"y":384,"exts":{},"type":"Rocks"},{"x":0,"y":448,"exts":{},"type":"Rocks"},{"x":0,"y":512,"exts":{},"type":"Rocks"},{"x":0,"y":512,"exts":{},"type":"Rocks"},{"x":-64,"y":512,"exts":{},"type":"Rocks"},{"x":-64,"y":448,"exts":{},"type":"Rocks"},{"x":-64,"y":384,"exts":{},"type":"Rocks"},{"x":-64,"y":320,"exts":{},"type":"Rocks"},{"x":-64,"y":320,"exts":{},"type":"Rocks"},{"x":-128,"y":512,"exts":{},"type":"Rocks"},{"x":-128,"y":448,"exts":{},"type":"Rocks"},{"x":-128,"y":384,"exts":{},"type":"Rocks"},{"x":-128,"y":320,"exts":{},"type":"Rocks"},{"x":-128,"y":256,"exts":{},"type":"Rocks"},{"x":-128,"y":192,"exts":{},"type":"Rocks"},{"x":-128,"y":128,"exts":{},"type":"Rocks"},{"x":64,"y":448,"exts":{},"type":"Rocks"},{"x":128,"y":448,"exts":{},"type":"Rocks"},{"x":192,"y":448,"exts":{},"type":"Rocks"},{"x":256,"y":448,"exts":{},"type":"Rocks"},{"x":320,"y":448,"exts":{},"type":"Rocks"},{"x":320,"y":448,"exts":{},"type":"Rocks"},{"x":64,"y":512,"exts":{},"type":"Rocks"},{"x":128,"y":512,"exts":{},"type":"Rocks"},{"x":192,"y":512,"exts":{},"type":"Rocks"},{"x":256,"y":512,"exts":{},"type":"Rocks"},{"x":320,"y":512,"exts":{},"type":"Rocks"},{"x":384,"y":512,"exts":{},"type":"Rocks"},{"x":448,"y":512,"exts":{},"type":"Rocks"},{"x":512,"y":512,"exts":{},"type":"Rocks"},{"x":576,"y":512,"exts":{},"type":"Rocks"},{"x":640,"y":512,"exts":{},"type":"Rocks"},{"x":704,"y":512,"exts":{},"type":"Rocks"},{"x":768,"y":512,"exts":{},"type":"Rocks"},{"x":832,"y":512,"exts":{},"type":"Rocks"},{"x":832,"y":512,"exts":{},"type":"Rocks"},{"x":512,"y":448,"exts":{},"type":"Rocks"},{"x":576,"y":448,"exts":{},"type":"Rocks"},{"x":640,"y":448,"exts":{},"type":"Rocks"},{"x":704,"y":448,"exts":{},"type":"Rocks"},{"x":768,"y":448,"exts":{},"type":"Rocks"},{"x":832,"y":448,"exts":{},"type":"Rocks"},{"x":832,"y":448,"exts":{},"type":"Rocks"},{"x":64,"y":384,"exts":{},"type":"Water"},{"x":128,"y":384,"exts":{},"type":"Water"},{"x":192,"y":384,"exts":{},"type":"Water"},{"x":256,"y":384,"exts":{},"type":"Water"},{"x":320,"y":384,"exts":{},"type":"Water"},{"x":320,"y":384,"exts":{},"type":"Water"},{"x":512,"y":384,"exts":{},"type":"Water"},{"x":576,"y":384,"exts":{},"type":"Water"},{"x":640,"y":384,"exts":{},"type":"Water"},{"x":704,"y":384,"exts":{},"type":"Water"},{"x":768,"y":384,"exts":{},"type":"Water"},{"x":832,"y":384,"exts":{},"type":"Water"},{"x":832,"y":384,"exts":{},"type":"Water"},{"x":128,"y":256,"exts":{},"type":"Platform"},{"x":704,"y":256,"exts":{},"type":"Platform"},{"x":-32,"y":96,"exts":{},"type":"GreenCrystal"},{"x":896,"y":192,"exts":{},"type":"Rocks_Top"},{"x":896,"y":256,"exts":{},"type":"Rocks"},{"x":896,"y":320,"exts":{},"type":"Rocks"},{"x":896,"y":384,"exts":{},"type":"Rocks"},{"x":896,"y":448,"exts":{},"type":"Rocks"},{"x":896,"y":512,"exts":{},"type":"Rocks"},{"x":896,"y":512,"exts":{},"type":"Rocks"},{"x":960,"y":192,"exts":{},"type":"Rocks_Top"},{"x":1024,"y":192,"exts":{},"type":"Rocks_Top"},{"x":896,"y":128,"exts":{},"type":"Checkpoint"},{"x":960,"y":128,"exts":{},"type":"Checkpoint"},{"x":1024,"y":256,"exts":{},"type":"Rocks"},{"x":1024,"y":320,"exts":{},"type":"Rocks"},{"x":1024,"y":384,"exts":{},"type":"Rocks"},{"x":1024,"y":448,"exts":{},"type":"Rocks"},{"x":1024,"y":512,"exts":{},"type":"Rocks"},{"x":960,"y":512,"exts":{},"type":"Rocks"},{"x":960,"y":448,"exts":{},"type":"Rocks"},{"x":960,"y":384,"exts":{},"type":"Rocks"},{"x":960,"y":384,"exts":{},"type":"Rocks"},{"x":960,"y":320,"exts":{},"type":"Rocks_Top"},{"x":992,"y":288,"exts":{},"type":"Heart"},{"x":-192,"y":-256,"exts":{},"type":"Rocks_Top"},{"x":-128,"y":-256,"exts":{},"type":"Rocks_Top"},{"x":-64,"y":-256,"exts":{},"type":"Rocks_Top"},{"x":0,"y":-256,"exts":{},"type":"Rocks_Top"},{"x":64,"y":-256,"exts":{},"type":"Rocks_Top"},{"x":128,"y":-256,"exts":{},"type":"Rocks_Top"},{"x":128,"y":-256,"exts":{},"type":"Rocks_Top"},{"x":256,"y":-128,"exts":{},"type":"Rocks_Top"},{"x":320,"y":-128,"exts":{},"type":"Rocks_Top"},{"x":384,"y":-128,"exts":{},"type":"Rocks_Top"},{"x":128,"y":-192,"exts":{},"type":"Rocks"},{"x":128,"y":-128,"exts":{},"type":"Rocks"},{"x":128,"y":-128,"exts":{},"type":"Rocks"},{"x":0,"y":-192,"exts":{},"type":"Rocks"},{"x":64,"y":-192,"exts":{},"type":"Rocks"},{"x":64,"y":-128,"exts":{},"type":"Rocks"},{"x":0,"y":-128,"exts":{},"type":"Rocks"},{"x":-64,"y":-192,"exts":{},"type":"Rocks"},{"x":128,"y":-64,"exts":{},"type":"Rocks"},{"x":192,"y":-64,"exts":{},"type":"Rocks"},{"x":256,"y":-64,"exts":{},"type":"Rocks"},{"x":320,"y":-64,"exts":{},"type":"Rocks"},{"x":384,"y":-64,"exts":{},"type":"Rocks"},{"x":448,"y":-64,"exts":{},"type":"Rocks"},{"x":448,"y":-64,"exts":{},"type":"Rocks"},{"x":512,"y":-64,"exts":{},"type":"Rocks_Top"},{"x":576,"y":-64,"exts":{},"type":"Rocks_Top"},{"x":640,"y":-64,"exts":{},"type":"Rocks_Top"},{"x":704,"y":-64,"exts":{},"type":"Rocks_Top"},{"x":704,"y":-64,"exts":{},"type":"Rocks_Top"},{"x":512,"y":-128,"exts":{},"type":"Spikes"},{"x":576,"y":-128,"exts":{},"type":"Spikes"},{"x":640,"y":-128,"exts":{},"type":"Spikes"},{"x":704,"y":-128,"exts":{},"type":"Spikes"},{"x":768,"y":-128,"exts":{},"type":"Spikes"},{"x":832,"y":-128,"exts":{},"type":"Spikes"},{"x":896,"y":-128,"exts":{},"type":"Spikes"},{"x":960,"y":-128,"exts":{},"type":"Spikes"},{"x":1024,"y":-128,"exts":{},"type":"Spikes"},{"x":1088,"y":-128,"exts":{},"type":"Spikes"},{"x":1088,"y":-128,"exts":{},"type":"Spikes"},{"x":448,"y":-192,"exts":{},"type":"Rocks_Top"},{"x":448,"y":-128,"exts":{},"type":"Rocks"},{"x":512,"y":-192,"exts":{},"type":"Platform"},{"x":1408,"y":-192,"exts":{},"type":"Rocks_Top"},{"x":1472,"y":-192,"exts":{},"type":"Rocks_Top"},{"x":448,"y":-256,"exts":{},"type":"Checkpoint"},{"x":-64,"y":-320,"exts":{},"type":"Exit"},{"x":192,"y":-192,"exts":{},"type":"Rocks_Top"},{"x":192,"y":-128,"exts":{},"type":"Rocks"},{"x":704,"y":-320,"exts":{},"type":"GreenCrystal"},{"x":1216,"y":-320,"exts":{},"type":"GreenCrystal"},{"x":1152,"y":-128,"exts":{},"type":"Spikes"},{"x":1216,"y":-128,"exts":{},"type":"Spikes"},{"x":1280,"y":-128,"exts":{},"type":"Spikes"},{"x":1344,"y":-128,"exts":{},"type":"Spikes"},{"x":1344,"y":-128,"exts":{},"type":"Spikes"},{"x":1408,"y":-128,"exts":{},"type":"Rocks"},{"x":1472,"y":-128,"exts":{},"type":"Rocks"},{"x":1472,"y":-128,"exts":{},"type":"Rocks"},{"x":768,"y":-64,"exts":{},"type":"Rocks_Top"},{"x":832,"y":-64,"exts":{},"type":"Rocks_Top"},{"x":896,"y":-64,"exts":{},"type":"Rocks_Top"},{"x":960,"y":-64,"exts":{},"type":"Rocks_Top"},{"x":1024,"y":-64,"exts":{},"type":"Rocks_Top"},{"x":1088,"y":-64,"exts":{},"type":"Rocks_Top"},{"x":1152,"y":-64,"exts":{},"type":"Rocks_Top"},{"x":1216,"y":-64,"exts":{},"type":"Rocks_Top"},{"x":1280,"y":-64,"exts":{},"type":"Rocks_Top"},{"x":1344,"y":-64,"exts":{},"type":"Rocks_Top"},{"x":1344,"y":-64,"exts":{},"type":"Rocks_Top"},{"x":1408,"y":-64,"exts":{},"type":"Rocks"},{"x":1472,"y":-64,"exts":{},"type":"Rocks"},{"x":1472,"y":-64,"exts":{},"type":"Rocks"},{"x":1152,"y":192,"exts":{},"type":"Rocks_Top"},{"x":1216,"y":192,"exts":{},"type":"Rocks_Top"},{"x":1216,"y":192,"exts":{},"type":"Rocks_Top"},{"x":1472,"y":192,"exts":{},"type":"Rocks_Top"},{"x":1472,"y":192,"exts":{},"type":"Rocks_Top"},{"x":1408,"y":192,"exts":{},"type":"Rocks_Top"},{"x":1664,"y":128,"exts":{},"type":"Rocks_Top"},{"x":1728,"y":128,"exts":{},"type":"Rocks_Top"},{"x":1088,"y":256,"exts":{},"type":"Water_Top"},{"x":1280,"y":256,"exts":{},"type":"Water_Top"},{"x":1344,"y":256,"exts":{},"type":"Water_Top"},{"x":1344,"y":256,"exts":{},"type":"Water_Top"},{"x":1536,"y":256,"exts":{},"type":"Water_Top"},{"x":1600,"y":256,"exts":{},"type":"Water_Top"},{"x":1600,"y":256,"exts":{},"type":"Water_Top"},{"x":1088,"y":320,"exts":{},"type":"Water"},{"x":1280,"y":320,"exts":{},"type":"Water"},{"x":1344,"y":320,"exts":{},"type":"Water"},{"x":1344,"y":320,"exts":{},"type":"Water"},{"x":1536,"y":320,"exts":{},"type":"Water"},{"x":1600,"y":320,"exts":{},"type":"Water"},{"x":1600,"y":320,"exts":{},"type":"Water"},{"x":1152,"y":256,"exts":{},"type":"Rocks"},{"x":1152,"y":320,"exts":{},"type":"Rocks"},{"x":1152,"y":384,"exts":{},"type":"Rocks"},{"x":1152,"y":448,"exts":{},"type":"Rocks"},{"x":1152,"y":512,"exts":{},"type":"Rocks"},{"x":1152,"y":512,"exts":{},"type":"Rocks"},{"x":1088,"y":512,"exts":{},"type":"Rocks"},{"x":1088,"y":448,"exts":{},"type":"Rocks"},{"x":1088,"y":384,"exts":{},"type":"Rocks"},{"x":1088,"y":384,"exts":{},"type":"Rocks"},{"x":1216,"y":256,"exts":{},"type":"Rocks"},{"x":1216,"y":320,"exts":{},"type":"Rocks"},{"x":1216,"y":384,"exts":{},"type":"Rocks"},{"x":1216,"y":448,"exts":{},"type":"Rocks"},{"x":1216,"y":512,"exts":{},"type":"Rocks"},{"x":1216,"y":512,"exts":{},"type":"Rocks"},{"x":1408,"y":256,"exts":{},"type":"Rocks"},{"x":1408,"y":320,"exts":{},"type":"Rocks"},{"x":1408,"y":384,"exts":{},"type":"Rocks"},{"x":1408,"y":448,"exts":{},"type":"Rocks"},{"x":1408,"y":512,"exts":{},"type":"Rocks"},{"x":1408,"y":512,"exts":{},"type":"Rocks"},{"x":1472,"y":256,"exts":{},"type":"Rocks"},{"x":1472,"y":320,"exts":{},"type":"Rocks"},{"x":1472,"y":384,"exts":{},"type":"Rocks"},{"x":1472,"y":448,"exts":{},"type":"Rocks"},{"x":1472,"y":512,"exts":{},"type":"Rocks"},{"x":1472,"y":512,"exts":{},"type":"Rocks"},{"x":1280,"y":384,"exts":{},"type":"Rocks"},{"x":1344,"y":384,"exts":{},"type":"Rocks"},{"x":1344,"y":448,"exts":{},"type":"Rocks"},{"x":1344,"y":512,"exts":{},"type":"Rocks"},{"x":1280,"y":512,"exts":{},"type":"Rocks"},{"x":1280,"y":448,"exts":{},"type":"Rocks"},{"x":1280,"y":448,"exts":{},"type":"Rocks"},{"x":1664,"y":192,"exts":{},"type":"Rocks"},{"x":1664,"y":256,"exts":{},"type":"Rocks"},{"x":1664,"y":320,"exts":{},"type":"Rocks"},{"x":1664,"y":384,"exts":{},"type":"Rocks"},{"x":1664,"y":448,"exts":{},"type":"Rocks"},{"x":1664,"y":512,"exts":{},"type":"Rocks"},{"x":1600,"y":512,"exts":{},"type":"Rocks"},{"x":1536,"y":512,"exts":{},"type":"Rocks"},{"x":1536,"y":448,"exts":{},"type":"Rocks"},{"x":1536,"y":384,"exts":{},"type":"Rocks"},{"x":1600,"y":384,"exts":{},"type":"Rocks"},{"x":1600,"y":448,"exts":{},"type":"Rocks"},{"x":1600,"y":448,"exts":{},"type":"Rocks"},{"x":1728,"y":192,"exts":{},"type":"Rocks"},{"x":1728,"y":256,"exts":{},"type":"Rocks"},{"x":1728,"y":320,"exts":{},"type":"Rocks"},{"x":1728,"y":384,"exts":{},"type":"Rocks"},{"x":1728,"y":448,"exts":{},"type":"Rocks"},{"x":1728,"y":512,"exts":{},"type":"Rocks"},{"x":1728,"y":512,"exts":{},"type":"Rocks"},{"x":1600,"y":0,"exts":{},"type":"GreenCrystal"},{"x":1440,"y":128,"exts":{},"type":"Checkpoint"},{"x":1184,"y":128,"exts":{},"type":"Checkpoint"},{"x":1696,"y":64,"exts":{},"type":"Checkpoint"},{"x":416,"y":192,"exts":{},"type":"Checkpoint"},{"x":1440,"y":-256,"exts":{},"type":"Checkpoint"},{"x":-256,"y":128,"exts":{},"type":"Spikes"},{"x":-320,"y":256,"exts":{},"type":"Spikes"},{"x":-384,"y":256,"exts":{},"type":"Spikes"},{"x":-448,"y":256,"exts":{},"type":"Spikes"},{"x":-512,"y":256,"exts":{},"type":"Spikes"},{"x":-512,"y":256,"exts":{},"type":"Spikes"},{"x":-448,"y":320,"exts":{},"type":"Rocks_Top"},{"x":-384,"y":320,"exts":{},"type":"Rocks_Top"},{"x":-320,"y":320,"exts":{},"type":"Rocks_Top"},{"x":-320,"y":320,"exts":{},"type":"Rocks_Top"},{"x":-448,"y":384,"exts":{},"type":"Rocks"},{"x":-384,"y":448,"exts":{},"type":"Rocks"},{"x":-384,"y":384,"exts":{},"type":"Rocks"},{"x":-320,"y":384,"exts":{},"type":"Rocks"},{"x":-320,"y":448,"exts":{},"type":"Rocks"},{"x":-320,"y":512,"exts":{},"type":"Rocks"},{"x":-384,"y":512,"exts":{},"type":"Rocks"},{"x":-448,"y":448,"exts":{},"type":"Rocks"},{"x":-512,"y":384,"exts":{},"type":"Rocks"},{"x":-512,"y":448,"exts":{},"type":"Rocks"},{"x":-64,"y":576,"exts":{},"type":"Rocks"},{"x":0,"y":576,"exts":{},"type":"Rocks"},{"x":64,"y":576,"exts":{},"type":"Rocks"},{"x":128,"y":576,"exts":{},"type":"Rocks"},{"x":192,"y":576,"exts":{},"type":"Rocks"},{"x":256,"y":576,"exts":{},"type":"Rocks"},{"x":320,"y":576,"exts":{},"type":"Rocks"},{"x":384,"y":576,"exts":{},"type":"Rocks"},{"x":448,"y":576,"exts":{},"type":"Rocks"},{"x":512,"y":576,"exts":{},"type":"Rocks"},{"x":576,"y":576,"exts":{},"type":"Rocks"},{"x":640,"y":576,"exts":{},"type":"Rocks"},{"x":704,"y":576,"exts":{},"type":"Rocks"},{"x":768,"y":576,"exts":{},"type":"Rocks"},{"x":832,"y":576,"exts":{},"type":"Rocks"},{"x":896,"y":576,"exts":{},"type":"Rocks"},{"x":1920,"y":64,"exts":{},"type":"Rocks_Platform"},{"x":2048,"y":0,"exts":{},"type":"Rocks_Platform"},{"x":2112,"y":-64,"exts":{},"type":"Rocks_Platform"},{"x":1920,"y":-128,"exts":{},"type":"Rocks_Platform"},{"x":1728,"y":-192,"exts":{},"type":"Rocks_Platform"},{"x":1664,"y":-192,"exts":{},"type":"Rocks_Platform"},{"x":1600,"y":-192,"exts":{},"type":"Rocks_Platform"},{"x":1536,"y":-192,"exts":{},"type":"Rocks_Platform"},{"x":1792,"y":192,"exts":{},"type":"Rocks_Top"},{"x":1856,"y":192,"exts":{},"type":"Rocks_Top"},{"x":1920,"y":192,"exts":{},"type":"Rocks_Top"},{"x":1984,"y":192,"exts":{},"type":"Rocks_Top"},{"x":2048,"y":192,"exts":{},"type":"Rocks_Top"},{"x":2112,"y":192,"exts":{},"type":"Rocks_Top"},{"x":2176,"y":192,"exts":{},"type":"Rocks_Top"},{"x":2176,"y":192,"exts":{},"type":"Rocks_Top"},{"x":2240,"y":192,"exts":{},"type":"Rocks_Top"},{"x":2304,"y":192,"exts":{},"type":"Rocks_Top"},{"x":2560,"y":-128,"exts":{},"type":"Rocks_Top"},{"x":2560,"y":-64,"exts":{},"type":"Rocks"},{"x":2560,"y":0,"exts":{},"type":"Rocks"},{"x":2560,"y":64,"exts":{},"type":"Rocks"},{"x":2560,"y":128,"exts":{},"type":"Rocks"},{"x":2560,"y":192,"exts":{},"type":"Rocks"},{"x":2560,"y":192,"exts":{},"type":"Rocks"},{"x":1792,"y":256,"exts":{},"type":"Rocks"},{"x":1856,"y":256,"exts":{},"type":"Rocks"},{"x":1920,"y":256,"exts":{},"type":"Rocks"},{"x":1984,"y":256,"exts":{},"type":"Rocks"},{"x":2048,"y":256,"exts":{},"type":"Rocks"},{"x":2112,"y":256,"exts":{},"type":"Rocks"},{"x":2176,"y":256,"exts":{},"type":"Rocks"},{"x":2240,"y":256,"exts":{},"type":"Rocks"},{"x":2304,"y":256,"exts":{},"type":"Rocks"},{"x":2560,"y":256,"exts":{},"type":"Rocks"},{"x":2560,"y":256,"exts":{},"type":"Rocks"},{"x":1792,"y":320,"exts":{},"type":"Rocks"},{"x":1856,"y":320,"exts":{},"type":"Rocks"},{"x":1920,"y":320,"exts":{},"type":"Rocks"},{"x":1984,"y":320,"exts":{},"type":"Rocks"},{"x":2048,"y":320,"exts":{},"type":"Rocks"},{"x":2112,"y":320,"exts":{},"type":"Rocks"},{"x":2176,"y":320,"exts":{},"type":"Rocks"},{"x":2240,"y":320,"exts":{},"type":"Rocks"},{"x":2304,"y":320,"exts":{},"type":"Rocks"},{"x":2368,"y":320,"exts":{},"type":"Rocks"},{"x":2432,"y":320,"exts":{},"type":"Rocks"},{"x":2496,"y":320,"exts":{},"type":"Rocks"},{"x":2560,"y":320,"exts":{},"type":"Rocks"},{"x":2560,"y":320,"exts":{},"type":"Rocks"},{"x":2368,"y":192,"exts":{},"type":"Spikes"},{"x":2368,"y":256,"exts":{},"type":"Rocks_Top"},{"x":2624,"y":-192,"exts":{},"type":"Rocks_Top"},{"x":2688,"y":-320,"exts":{},"type":"Rocks_Top"},{"x":2752,"y":0,"exts":{},"type":"Rocks_Top"},{"x":2688,"y":-256,"exts":{},"type":"Rocks"},{"x":2688,"y":-192,"exts":{},"type":"Rocks"},{"x":2688,"y":-128,"exts":{},"type":"Rocks"},{"x":2688,"y":-64,"exts":{},"type":"Rocks"},{"x":2688,"y":0,"exts":{},"type":"Rocks"},{"x":2688,"y":64,"exts":{},"type":"Rocks"},{"x":2688,"y":128,"exts":{},"type":"Rocks"},{"x":2688,"y":192,"exts":{},"type":"Rocks"},{"x":2688,"y":192,"exts":{},"type":"Rocks"},{"x":2624,"y":-128,"exts":{},"type":"Rocks"},{"x":2624,"y":-64,"exts":{},"type":"Rocks"},{"x":2624,"y":0,"exts":{},"type":"Rocks"},{"x":2624,"y":64,"exts":{},"type":"Rocks"},{"x":2624,"y":128,"exts":{},"type":"Rocks"},{"x":2624,"y":192,"exts":{},"type":"Rocks"},{"x":2624,"y":256,"exts":{},"type":"Rocks"},{"x":2624,"y":320,"exts":{},"type":"Rocks"},{"x":2624,"y":320,"exts":{},"type":"Rocks"},{"x":2752,"y":64,"exts":{},"type":"Rocks"},{"x":2752,"y":128,"exts":{},"type":"Rocks"},{"x":2752,"y":192,"exts":{},"type":"Rocks"},{"x":2752,"y":256,"exts":{},"type":"Rocks"},{"x":2752,"y":320,"exts":{},"type":"Rocks"},{"x":2752,"y":320,"exts":{},"type":"Rocks"},{"x":2688,"y":256,"exts":{},"type":"Rocks"},{"x":2688,"y":320,"exts":{},"type":"Rocks"},{"x":2688,"y":320,"exts":{},"type":"Rocks"},{"x":1792,"y":384,"exts":{},"type":"Rocks"},{"x":1856,"y":384,"exts":{},"type":"Rocks"},{"x":1920,"y":384,"exts":{},"type":"Rocks"},{"x":1984,"y":384,"exts":{},"type":"Rocks"},{"x":2048,"y":384,"exts":{},"type":"Rocks"},{"x":2112,"y":384,"exts":{},"type":"Rocks"},{"x":2176,"y":384,"exts":{},"type":"Rocks"},{"x":2240,"y":384,"exts":{},"type":"Rocks"},{"x":2304,"y":384,"exts":{},"type":"Rocks"},{"x":2368,"y":384,"exts":{},"type":"Rocks"},{"x":2432,"y":384,"exts":{},"type":"Rocks"},{"x":2496,"y":384,"exts":{},"type":"Rocks"},{"x":2560,"y":384,"exts":{},"type":"Rocks"},{"x":2624,"y":384,"exts":{},"type":"Rocks"},{"x":2688,"y":384,"exts":{},"type":"Rocks"},{"x":2688,"y":384,"exts":{},"type":"Rocks"},{"x":1792,"y":448,"exts":{},"type":"Rocks"},{"x":1856,"y":448,"exts":{},"type":"Rocks"},{"x":1920,"y":448,"exts":{},"type":"Rocks"},{"x":1984,"y":448,"exts":{},"type":"Rocks"},{"x":2048,"y":448,"exts":{},"type":"Rocks"},{"x":2112,"y":448,"exts":{},"type":"Rocks"},{"x":2176,"y":448,"exts":{},"type":"Rocks"},{"x":2240,"y":448,"exts":{},"type":"Rocks"},{"x":2304,"y":448,"exts":{},"type":"Rocks"},{"x":2368,"y":448,"exts":{},"type":"Rocks"},{"x":2432,"y":448,"exts":{},"type":"Rocks"},{"x":2496,"y":448,"exts":{},"type":"Rocks"},{"x":2560,"y":448,"exts":{},"type":"Rocks"},{"x":2560,"y":448,"exts":{},"type":"Rocks"},{"x":1952,"y":-160,"exts":{},"type":"GreenCrystal"},{"x":1632,"y":-224,"exts":{},"type":"Heart"},{"x":480,"y":-224,"exts":{},"type":"Heart"},{"x":1280,"y":-192,"exts":{},"type":"Platform"},{"x":-256,"y":-256,"exts":{},"type":"Rocks_Platform"},{"x":-224,"y":-320,"exts":{},"type":"Checkpoint"},{"x":-576,"y":64,"exts":{},"type":"Rocks_Top"},{"x":-640,"y":0,"exts":{},"type":"Rocks_Top"},{"x":-704,"y":0,"exts":{},"type":"Rocks_Top"},{"x":-704,"y":-64,"exts":{},"type":"Spikes"},{"x":-640,"y":-64,"exts":{},"type":"Spikes"},{"x":-576,"y":0,"exts":{},"type":"Spikes"},{"x":-576,"y":128,"exts":{},"type":"Rocks"},{"x":-576,"y":192,"exts":{},"type":"Rocks"},{"x":-576,"y":256,"exts":{},"type":"Rocks"},{"x":-576,"y":320,"exts":{},"type":"Rocks"},{"x":-512,"y":384,"exts":{},"type":"Rocks"},{"x":-576,"y":384,"exts":{},"type":"Rocks"},{"x":-576,"y":384,"exts":{},"type":"Rocks"},{"x":-512,"y":320,"exts":{},"type":"Rocks_Top"},{"x":-704,"y":64,"exts":{},"type":"Rocks"},{"x":-704,"y":128,"exts":{},"type":"Rocks"},{"x":-704,"y":192,"exts":{},"type":"Rocks"},{"x":-704,"y":256,"exts":{},"type":"Rocks"},{"x":-704,"y":256,"exts":{},"type":"Rocks"},{"x":-640,"y":64,"exts":{},"type":"Rocks"},{"x":-640,"y":128,"exts":{},"type":"Rocks"},{"x":-640,"y":192,"exts":{},"type":"Rocks"},{"x":-640,"y":256,"exts":{},"type":"Rocks"},{"x":-640,"y":320,"exts":{},"type":"Rocks"},{"x":-640,"y":320,"exts":{},"type":"Rocks"},{"x":2496,"y":192,"exts":{},"type":"Rocks_Top"},{"x":2432,"y":256,"exts":{},"type":"Rocks_Top"},{"x":2496,"y":256,"exts":{},"type":"Rocks"},{"x":2432,"y":192,"exts":{},"type":"Spikes"},{"x":2528,"y":160,"exts":{},"type":"GreenCrystal"}]'),bgs:JSON.parse('[{"depth":-10,"texture":"BG"}]'),tiles:JSON.parse('[{"depth":-10,"tiles":[],"extends":{}}]'),backgroundColor:"#000000",onStep(){},onDraw(){},onLeave(){},onCreate(){inGameRoomStart(this)},extends:{}},ct.rooms.templates.LayerUI={name:"LayerUI",width:1024,height:576,objects:JSON.parse('[{"x":32,"y":32,"exts":{},"type":"CrystalsWidget"},{"x":992,"y":32,"exts":{},"type":"HeartsWidget"}]'),bgs:JSON.parse("[]"),tiles:JSON.parse('[{"depth":-10,"tiles":[],"extends":{}}]'),backgroundColor:"#000000",onStep(){},onDraw(){},onLeave(){},onCreate(){},extends:{}},ct.rooms.templates.TestLevel={name:"TestLevel",width:1280,height:768,objects:JSON.parse('[{"x":256,"y":576,"exts":{},"type":"Rocks_Top"},{"x":320,"y":576,"exts":{},"type":"Rocks_Top"},{"x":384,"y":576,"exts":{},"type":"Rocks_Top"},{"x":448,"y":576,"exts":{},"type":"Rocks_Top"},{"x":512,"y":576,"exts":{},"type":"Rocks_Top"},{"x":576,"y":576,"exts":{},"type":"Rocks_Top"},{"x":640,"y":576,"exts":{},"type":"Rocks_Top"},{"x":704,"y":576,"exts":{},"type":"Rocks_Top"},{"x":768,"y":576,"exts":{},"type":"Rocks_Top"},{"x":832,"y":576,"exts":{},"type":"Rocks_Top"},{"x":896,"y":576,"exts":{},"type":"Rocks_Top"},{"x":960,"y":576,"exts":{},"type":"Rocks_Top"},{"x":960,"y":576,"exts":{},"type":"Rocks_Top"},{"x":384,"y":576,"exts":{},"type":"Robot"},{"x":1024,"y":576,"exts":{},"type":"Rocks_Top"},{"x":1088,"y":576,"exts":{},"type":"Rocks_Top"},{"x":1152,"y":576,"exts":{},"type":"Rocks_Top"},{"x":1216,"y":576,"exts":{},"type":"Rocks_Top"},{"x":1280,"y":576,"exts":{},"type":"Rocks_Top"},{"x":1344,"y":576,"exts":{},"type":"Rocks_Top"},{"x":1344,"y":576,"exts":{},"type":"Rocks_Top"},{"x":-128,"y":576,"exts":{},"type":"Rocks_Top"},{"x":-64,"y":576,"exts":{},"type":"Rocks_Top"},{"x":0,"y":576,"exts":{},"type":"Rocks_Top"},{"x":64,"y":576,"exts":{},"type":"Rocks_Top"},{"x":128,"y":576,"exts":{},"type":"Rocks_Top"},{"x":192,"y":576,"exts":{},"type":"Rocks_Top"},{"x":192,"y":576,"exts":{},"type":"Rocks_Top"}]'),bgs:JSON.parse('[{"depth":-100,"texture":"BG","extends":{}}]'),tiles:JSON.parse('[{"depth":-10,"tiles":[],"extends":{}}]'),backgroundColor:"#000000",onStep(){},onDraw(){},onLeave(){},onCreate(){},extends:{}},ct.styles={types:{},new:(e,t)=>(ct.styles.types[e]=t,t),get:(e,t)=>!0===t?ct.u.ext({},ct.styles.types[e]):t?ct.u.ext(ct.u.ext({},ct.styles.types[e]),t):ct.styles.types[e]},ct.styles.new("CrystalCounter",{fontFamily:"sans-serif",fontSize:24,fontStyle:"normal",fontWeight:"600",align:"left",lineJoin:"round",lineHeight:32,fill:"#00A847",strokeThickness:5,stroke:"#FFFFFF"}),ct.styles.new("HeartCounter",{fontFamily:"sans-serif",fontSize:24,fontStyle:"normal",fontWeight:"600",align:"left",lineJoin:"round",lineHeight:32.400000000000006,fill:"#E85017",strokeThickness:5,stroke:"#FFFFFF"});class EmitterTandem extends PIXI.Container{constructor(e,t){super(),this.emitters=[],this.delayed=[];for(const s of e){const e=new PIXI.particles.Emitter(this,ct.res.getTexture(s.texture),s.settings),o=s.settings.delay+t.prewarmDelay;o>0?(e.emit=!1,this.delayed.push({value:o,emitter:e})):o<0?(e.emit=!0,e.update(-o)):e.emit=!0,e.initialDeltaPos={x:s.settings.pos.x,y:s.settings.pos.y},this.emitters.push(e),e.playOnce((()=>{this.emitters.splice(this.emitters.indexOf(e),1)}))}this.isUi=t.isUi,this.scale.x=t.scale.x,this.scale.y=t.scale.y,t.rotation?this.rotation=ct.u.radToDeg(t.rotation):t.angle&&(this.angle=t.angle),this.deltaPosition=t.position,this.depth=t.depth,this.paused=this.frozen=!1,this.isUi?ct.emitters.uiTandems.push(this):ct.emitters.tandems.push(this)}update(){if(this.stopped)for(const e of this.emitters)e.particleCount||this.emitters.splice(this.emitters.indexOf(e),1);if(this.appendant&&this.appendant._destroyed||this.kill||!this.emitters.length)return this.emit("done"),this.isUi?ct.emitters.uiTandems.splice(ct.emitters.uiTandems.indexOf(this),1):ct.emitters.tandems.splice(ct.emitters.tandems.indexOf(this),1),void this.destroy();if(this.frozen)return;const e=(this.isUi?PIXI.Ticker.shared.elapsedMS:PIXI.Ticker.shared.deltaMS)/1e3;for(const t of this.delayed)t.value-=e,t.value<=0&&(t.emitter.emit=!0,this.delayed.splice(this.delayed.indexOf(t),1));for(const t of this.emitters)this.delayed.find((e=>e.emitter===t))||t.update(e);this.follow&&this.updateFollow()}stop(){if(this.stopped)console.trace("[ct.emitters] An attempt to stop an already stopped emitter tandem. Continuingâ€¦");else{this.stopped=!0;for(const e of this.emitters)e.emit=!1;this.delayed=[]}}pause(){for(const e of this.emitters)0!==e.maxParticles&&(e.oldMaxParticles=e.maxParticles,e.maxParticles=0)}resume(){for(const e of this.emitters)e.maxParticles=e.oldMaxParticles||e.maxParticles}clear(){for(const e of this.emitters)e.cleanup()}updateFollow(){if(!this.follow)return;if(this.follow.kill||!this.follow.scale)return this.follow=null,void this.stop();const e=ct.u.rotate(this.deltaPosition.x*this.follow.scale.x,this.deltaPosition.y*this.follow.scale.y,-this.follow.angle);for(const t of this.emitters){t.updateOwnerPos(this.follow.x+e[0],this.follow.y+e[1]);const s=ct.u.rotate(t.initialDeltaPos.x*this.follow.scale.x,t.initialDeltaPos.y*this.follow.scale.y,-this.follow.angle);t.updateSpawnPos(s[0],s[1])}}}!function(){const e={prewarmDelay:0,scale:{x:1,y:1},tint:16777215,alpha:1,position:{x:0,y:0},isUi:!1,depth:1/0};ct.emitters={templates:{CrystalBurst:[{texture:"GreenCrystal",settings:{alpha:{list:[{value:1,time:0},{value:1,time:.6759999999999999},{value:0,time:1}],isStepped:!1},scale:{list:[{value:.050000000000000044,time:0},{time:.04800000000000003,value:.7750000000000001},{time:.484,value:1.4499999999999997},{time:.8400000000000001,value:1.0250000000000001},{value:0,time:1}],isStepped:!1},color:{list:[{value:"ffffff",time:0},{value:"ffffff",time:.6759999999999999},{value:"ffffff",time:1}],isStepped:!1},blendMode:"normal",speed:{list:[{value:550,time:0},{value:100,time:1}],isStepped:!1},startRotation:{min:0,max:360},rotationSpeed:{min:-720,max:720},lifetime:{min:.25,max:.5},frequency:.01,spawnChance:1,particlesPerWave:1,emitterLifetime:.1,maxParticles:1e3,maxSpeed:200,pos:{x:0,y:0},acceleration:{x:0,y:0},addAtBack:!1,spawnType:"point",spawnCircle:{x:0,y:0,r:32},delay:0,minimumSpeedMultiplier:.01,minimumScaleMultiplier:.02}}],Trail:[{texture:"Heart",settings:{alpha:{list:[{value:.71,time:0},{value:1,time:.5},{time:.8240000000000001,value:.6599999999999999},{value:0,time:1}],isStepped:!1},scale:{list:[{value:.07499999999999996,time:0},{time:.2,value:.7999999999999998},{value:.95,time:1}],isStepped:!1},color:{list:[{value:"ffffff",time:0},{value:"ffffff",time:.5},{time:.8240000000000001,value:"FFFFFF"},{value:"ffffff",time:1}],isStepped:!1},blendMode:"normal",speed:{list:[{value:362.5,time:0},{value:312.5,time:1}],isStepped:!1},startRotation:{min:260,max:280},rotationSpeed:{min:0,max:0},lifetime:{min:1,max:2},frequency:.056,spawnChance:1,particlesPerWave:1,emitterLifetime:.5,maxParticles:1e3,maxSpeed:200,pos:{x:0,y:0},acceleration:{x:0,y:0},addAtBack:!1,spawnType:"circle",spawnCircle:{x:0,y:0,r:32},delay:0,noRotation:!0,minimumScaleMultiplier:.44,minimumSpeedMultiplier:.72}}]}||{},uiTandems:[],tandems:[],fire(t,s,o,y){if(!(t in ct.emitters.templates))throw new Error(`[ct.emitters] An attempt to create a non-existent emitter ${t}.`);const c=Object.assign({},e,y),x=new EmitterTandem(ct.emitters.templates[t],c);return x.x=s,x.y=o,c.room?(c.room.addChild(x),x.isUi=c.room.isUi):(ct.room.addChild(x),x.isUi=ct.room.isUi),x},append(t,s,o){if(!(s in ct.emitters.templates))throw new Error(`[ct.emitters] An attempt to create a non-existent emitter ${s}.`);const y=Object.assign({},e,o),c=new EmitterTandem(ct.emitters.templates[s],y);return y.position&&(c.x=y.position.x,c.y=y.position.y),c.appendant=t,t.addChild(c),c},follow(t,s,o){if(!(s in ct.emitters.templates))throw new Error(`[ct.emitters] An attempt to create a non-existent emitter ${s}.`);const y=Object.assign({},e,o),c=new EmitterTandem(ct.emitters.templates[s],y);return c.follow=t,c.updateFollow(),"getRoom"in t?t.getRoom().addChild(c):ct.room.addChild(c),c}},PIXI.Ticker.shared.add((()=>{for(const e of ct.emitters.uiTandems)e.update();for(const e of ct.emitters.tandems)e.update()}))}(),function(ct){const e=new PIXI.Loader,t=document.querySelector(".ct-aLoadingScreen"),s=t.querySelector(".ct-aLoadingBar"),o=window.dragonBones?dragonBones.PixiFactory.factory:null;ct.res={soundsLoaded:0,soundsTotal:0,soundsError:0,sounds:{},registry:{Platform:{frames:1,shape:{type:"rect",top:0,bottom:32,left:0,right:128},anchor:{x:0,y:0}},Rocks_Platform:{frames:1,shape:{type:"rect",top:0,bottom:40,left:0,right:64},anchor:{x:0,y:0}},Robot_Walking:{frames:2,shape:{type:"rect",top:69,bottom:0,left:24,right:24},anchor:{x:.5,y:1}},Robot_Jump:{frames:1,shape:{type:"rect",top:69,bottom:0,left:24,right:24},anchor:{x:.5,y:1}},Robot_Idle:{frames:1,shape:{type:"rect",top:69,bottom:0,left:24,right:24},anchor:{x:.5,y:1}},Heart:{frames:1,shape:{type:"circle",r:14},anchor:{x:.5,y:.5}},GreenCrystal:{frames:1,shape:{type:"circle",r:15},anchor:{x:.5,y:.5}},Exit:{frames:1,shape:{type:"rect",top:0,bottom:64,left:0,right:64},anchor:{x:0,y:0}},Rocks:{frames:1,shape:{type:"rect",top:0,bottom:64,left:0,right:64},anchor:{x:0,y:0}},Checkpoint:{frames:1,shape:{type:"rect",top:0,bottom:64,left:0,right:64},anchor:{x:0,y:0}},Rocks_Top:{frames:1,shape:{type:"rect",top:0,bottom:64,left:0,right:64},anchor:{x:0,y:0}},Water:{frames:1,shape:{type:"rect",top:0,bottom:64,left:0,right:64},anchor:{x:0,y:0}},Water_Top:{frames:1,shape:{type:"rect",top:-8,bottom:64,left:0,right:64},anchor:{x:0,y:0}},Spikes:{frames:1,shape:{type:"rect",top:-30,bottom:64,left:0,right:64},anchor:{x:0,y:0}},BG:{atlas:"./img/t0.png",frames:0,shape:{type:"rect",top:0,bottom:256,left:0,right:256},anchor:{x:0,y:0}}},atlases:["./img/a0.json"],skelRegistry:{},fetchImage(t,s){e.add(t,t),e.load(((e,t)=>{s(t)})),e.onError(((e,s)=>{e.add(t,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQIW2NkAAIAAAoAAggA9GkAAAAASUVORK5CYII="),console.error("[ct.res] An image from "+s+" wasn't loaded :( Maybe refreshing the page will solve this problemâ€¦"),ct.res.texturesError++}))},parseImages(){PIXI.Loader.shared.add("./img/a0.json").add("./img/t0.png"),PIXI.Loader.shared,PIXI.Loader.shared.load()},getTexture(e,t){if(null===t&&(t=void 0),-1===e)return void 0!==t?PIXI.Texture.EMPTY:[PIXI.Texture.EMPTY];const s=ct.res.registry[e];return void 0!==t?s.textures[t]:s.textures},makeSkeleton(e,t){const s=ct.res.skelRegistry[e],y=o.buildArmatureDisplay("Armature",s.data.name,t);return y.ctName=e,y.on(dragonBones.EventObject.SOUND_EVENT,(function(e){ct.sound.exists(e.name)?ct.sound.spawn(e.name):console.warn(`Skeleton ${y.ctName} tries to play a non-existing sound ${e.name} at animation ${y.animation.lastAnimationName}`)})),y}},PIXI.Loader.shared.onLoad.add((e=>{t.setAttribute("data-progress",e.progress),s.style.width=e.progress+"%"})),PIXI.Loader.shared.onComplete.add((()=>{for(const e in ct.res.registry){const t=ct.res.registry[e];if(t.textures=[],t.frames)for(let s=0;s<t.frames;s++){const o=`${e}@frame${s}`,y=PIXI.Loader.shared.resources[ct.res.atlases.find((e=>o in PIXI.Loader.shared.resources[e].textures))].textures[o];y.defaultAnchor=new PIXI.Point(t.anchor.x,t.anchor.y),t.textures.push(y)}else{const e=PIXI.Loader.shared.resources[t.atlas].texture;e.defaultAnchor=new PIXI.Point(t.anchor.x,t.anchor.y),t.textures.push(e)}}for(const e in ct.res.skelRegistry)ct.res.skelRegistry[e].data=PIXI.Loader.shared.resources[ct.res.skelRegistry[e].origname+"_ske.json"].data;t.classList.add("hidden"),setTimeout((()=>{Object.defineProperty(ct.types.Copy.prototype,"ctype",{set:function(e){this.$ctype=e},get:function(){return this.$ctype}}),Object.defineProperty(ct.types.Copy.prototype,"moveContinuous",{value:function(e,t){return this.gravity&&(this.hspeed+=this.gravity*ct.delta*Math.cos(this.gravityDir*Math.PI/-180),this.vspeed+=this.gravity*ct.delta*Math.sin(this.gravityDir*Math.PI/-180)),ct.place.moveAlong(this,this.direction,this.speed*ct.delta,e,t)}}),Object.defineProperty(ct.types.Copy.prototype,"moveContinuousByAxes",{value:function(e,t){return this.gravity&&(this.hspeed+=this.gravity*ct.delta*Math.cos(this.gravityDir*Math.PI/-180),this.vspeed+=this.gravity*ct.delta*Math.sin(this.gravityDir*Math.PI/-180)),ct.place.moveByAxes(this,this.hspeed*ct.delta,this.vspeed*ct.delta,e,t)}}),Object.defineProperty(ct.types.Tilemap.prototype,"enableCollisions",{value:function(e){ct.place.enableTilemapCollisions(this,e)}}),PIXI.Ticker.shared.add(ct.loop),ct.rooms.forceSwitch(ct.rooms.starting)}),0)})),ct.res.parseImages()}(ct);const Copy=function(){const e=Symbol("texture");let t=0;class s extends PIXI.AnimatedSprite{constructor(s,o,y,c,x){var i;if(x=x||ct.room,s){if(!(s in ct.types.templates))throw new Error(`[ct.types] An attempt to create a copy of a non-existent type \`${s}\` detected. A typo?`);if((i=ct.types.templates[s]).texture&&"-1"!==i.texture){const t=ct.res.getTexture(i.texture);super(t),this[e]=i.texture,this.anchor.x=t[0].defaultAnchor.x,this.anchor.y=t[0].defaultAnchor.y}else super([PIXI.Texture.EMPTY]);this.type=s,this.parent=x,i.extends&&ct.u.ext(this,i.extends)}else super([PIXI.Texture.EMPTY]);return this[copyTypeSymbol]=!0,c&&(ct.u.ext(this,c),c.tx&&(this.scale.x=c.tx),c.ty&&(this.scale.y=c.ty),c.tr&&(this.rotation=c.tr)),this.position.set(o||0,y||0),this.xprev=this.xstart=this.x,this.yprev=this.ystart=this.y,this.speed=this.direction=this.gravity=this.hspeed=this.vspeed=0,this.gravityDir=270,this.depth=0,this.uid=++t,s&&(ct.u.ext(this,{type:s,depth:i.depth,onStep:i.onStep,onDraw:i.onDraw,onCreate:i.onCreate,onDestroy:i.onDestroy,shape:i.texture?ct.res.registry[i.texture].shape:{}}),c&&void 0!==c.depth&&(this.depth=c.depth),ct.types.list[s]?ct.types.list[s].push(this):ct.types.list[s]=[this],this.onBeforeCreateModifier(),ct.types.templates[s].onCreate.apply(this)),this}set tex(t){return this.textures=ct.res.getTexture(t),this[e]=t,this.shape=-1!==t?ct.res.registry[t].shape:{},this.anchor.x=this.textures[0].defaultAnchor.x,this.anchor.y=this.textures[0].defaultAnchor.y,t}get tex(){return this[e]}get speed(){return Math.hypot(this.hspeed,this.vspeed)}set speed(e){if(0!==this.speed){var t=e/this.speed;this.hspeed*=t,this.vspeed*=t}else this.hspeed=e}get direction(){return(-180*Math.atan2(this.vspeed,this.hspeed)/Math.PI+360)%360}set direction(e){var t=this.speed;return this.hspeed=t*Math.cos(e*Math.PI/-180),this.vspeed=t*Math.sin(e*Math.PI/-180),e}get rotation(){return this.transform.rotation/Math.PI*-180}set rotation(e){return this.transform.rotation=e*Math.PI/-180,e}move(){this.gravity&&(this.hspeed+=this.gravity*ct.delta*Math.cos(this.gravityDir*Math.PI/-180),this.vspeed+=this.gravity*ct.delta*Math.sin(this.gravityDir*Math.PI/-180)),this.x+=this.hspeed*ct.delta,this.y+=this.vspeed*ct.delta}addSpeed(e,t){this.hspeed+=e*Math.cos(t*Math.PI/-180),this.vspeed+=e*Math.sin(t*Math.PI/-180)}getRoom(){let e=this.parent;for(;!(e instanceof Room);)e=e.parent;return e}onBeforeCreateModifier(){}}return s}();!function(ct){const e=function(){this.$chashes=ct.place.getHashes(this);for(const e of this.$chashes)e in ct.place.grid?ct.place.grid[e].push(this):ct.place.grid[e]=[this]};ct.types={Copy:Copy,list:{BACKGROUND:[],TILEMAP:[]},templates:{},make(t,s=0,o=0,y,c){y instanceof PIXI.Container&&(c=y,y=void 0);const x=new Copy(t,s,o,y);return c?c.addChild(x):ct.room.addChild(x),ct.stack.push(x),e.apply(x),x},move(e){e.move()},addSpeed(e,t,s){e.addSpeed(t,s)},each(e){for(const t of ct.stack)t instanceof Copy&&e.apply(t,this)},with(e,t){t.apply(e,this)},exists:e=>e instanceof Copy?!e.kill:e instanceof PIXI.DisplayObject?Boolean(e.position):Boolean(e),isCopy:e=>e instanceof Copy},ct.types.copy=ct.types.make,ct.types.addSpd=ct.types.addSpeed,ct.types.templates.Robot={depth:0,texture:"Robot_Idle",onStep:function(){if(this.speed=4*ct.delta,ct.place.occupied(this,this.x,this.y,"Deadly"))return this.x=this.savedX,this.y=this.savedY,this.hspd=0,this.vspd=0,ct.room.lives--,void(ct.room.lives<=0&&ct.rooms.switch(ct.room.name));ct.actions.MoveLeft.down?this.hspd=-this.speed:ct.actions.MoveRight.down?this.hspd=this.speed:this.hspd=0,0!==this.hspd?("Robot_Walking"!==this.tex&&(this.tex="Robot_Walking",this.play()),this.hspd>0?this.scale.x=1:this.scale.x=-1):this.tex="Robot_Idle",ct.place.occupied(this,this.x,this.y+1,"Solid")?ct.actions.Jump.down?this.vspd=this.jumpSpeed:this.vspd=0:(this.vspd+=this.gravity*ct.delta,this.tex="Robot_Jump");for(var e=0;e<Math.abs(this.hspd)&&ct.place.free(this,this.x+Math.sign(this.hspd),this.y,"Solid");e++)this.x+=Math.sign(this.hspd);for(e=0;e<Math.abs(this.vspd)&&ct.place.free(this,this.x,this.y+Math.sign(this.vspd),"Solid");e++)this.y+=Math.sign(this.vspd)},onDraw:function(){},onDestroy:function(){},onCreate:function(){this.jumpSpeed=-10,this.gravity=.5,this.hspeed=0,this.vspeed=0,ct.camera.follow=this,ct.camera.borderX=450,ct.camera.borderY=200,this.savedX=this.x,this.savedY=this.y,this.animationSpeed=.2},extends:{ctype:"Robot"}},ct.types.list.Robot=[],ct.types.templates.Rocks={depth:0,texture:"Rocks",onStep:function(){ct.types.move(this)},onDraw:function(){},onDestroy:function(){},onCreate:function(){},extends:{ctype:"Solid"}},ct.types.list.Rocks=[],ct.types.templates.Rocks_Top={depth:0,texture:"Rocks_Top",onStep:function(){ct.types.move(this)},onDraw:function(){},onDestroy:function(){},onCreate:function(){},extends:{ctype:"Solid"}},ct.types.list.Rocks_Top=[],ct.types.templates.Rocks_Platform={depth:0,texture:"Rocks_Platform",onStep:function(){ct.types.move(this)},onDraw:function(){},onDestroy:function(){},onCreate:function(){},extends:{ctype:"Solid"}},ct.types.list.Rocks_Platform=[],ct.types.templates.Spikes={depth:0,texture:"Spikes",onStep:function(){ct.types.move(this)},onDraw:function(){},onDestroy:function(){},onCreate:function(){},extends:{ctype:"Deadly"}},ct.types.list.Spikes=[],ct.types.templates.Water={depth:0,texture:"Water",onStep:function(){ct.types.move(this)},onDraw:function(){},onDestroy:function(){},onCreate:function(){},extends:{ctype:"Deadly"}},ct.types.list.Water=[],ct.types.templates.Water_Top={depth:0,texture:"Water_Top",onStep:function(){ct.types.move(this)},onDraw:function(){},onDestroy:function(){},onCreate:function(){},extends:{ctype:"Deadly"}},ct.types.list.Water_Top=[],ct.types.templates.Checkpoint={depth:0,texture:"Checkpoint",onStep:function(){var e=ct.place.meet(this,this.x,this.y,"Robot");e&&(e.savedX=this.x+32,e.savedY=this.y+32)},onDraw:function(){},onDestroy:function(){},onCreate:function(){this.visible=!1},extends:{}},ct.types.list.Checkpoint=[],ct.types.templates.Exit={depth:0,texture:"Exit",onStep:function(){ct.room.nextRoom&&ct.place.meet(this,this.x,this.y,"Robot")&&ct.rooms.switch(ct.room.nextRoom)},onDraw:function(){},onDestroy:function(){},onCreate:function(){},extends:{}},ct.types.list.Exit=[],ct.types.templates.GreenCrystal={depth:0,texture:"GreenCrystal",onStep:function(){ct.place.meet(this,"Robot")&&(ct.room.crystals++,this.kill=!0)},onDraw:function(){},onDestroy:function(){ct.emitters.fire("CrystalBurst",this.x,this.y,{depth:100})},onCreate:function(){},extends:{}},ct.types.list.GreenCrystal=[],ct.types.templates.Heart={depth:0,texture:"Heart",onStep:function(){ct.place.meet(this,this.x,this.y,"Robot")&&ct.room.lives<3&&(ct.room.lives++,this.kill=!0,ct.emitters.follow(ct.types.list.Robot[0],"Trail",{position:{x:0,y:-70}}))},onDraw:function(){},onDestroy:function(){},onCreate:function(){},extends:{}},ct.types.list.Heart=[],ct.types.templates.Platform={depth:0,texture:"Platform",onStep:function(){var e=ct.place.meet(this,this.x,this.y,"Robot");e?this.ctype=void 0:(this.ctype="Solid",(e=ct.place.occupied(this,this.x,this.y-1,"Robot"))&&(e.x+=this.hspeed*ct.delta)),ct.place.occupied(this,this.x+this.hspeed*ct.delta,this.y,"Solid")&&(this.direction+=180),this.move()},onDraw:function(){},onDestroy:function(){},onCreate:function(){this.speed=2},extends:{ctype:"Solid"}},ct.types.list.Platform=[],ct.types.templates.CrystalsWidget={depth:0,texture:"GreenCrystal",onStep:function(){},onDraw:function(){this.text.text=`${ct.room.crystals} / ${ct.room.crystalsTotal}`},onDestroy:function(){},onCreate:function(){this.text=new PIXI.Text("0 / "+ct.room.crystalsTotal,ct.styles.get("CrystalCounter")),this.text.x=32,this.text.anchor.y=.5,this.addChild(this.text)},extends:{}},ct.types.list.CrystalsWidget=[],ct.types.templates.HeartsWidget={depth:0,texture:"Heart",onStep:function(){},onDraw:function(){this.text.text=ct.room.lives},onDestroy:function(){},onCreate:function(){this.text=new PIXI.Text(ct.room.lives,ct.styles.get("HeartCounter")),this.text.x=-32,this.text.anchor.y=.5,this.text.anchor.x=1,this.addChild(this.text)},extends:{}},ct.types.list.HeartsWidget=[],ct.types.beforeStep=function(){},ct.types.afterStep=function(){},ct.types.beforeDraw=function(){!1},ct.types.afterDraw=function(){if(this.transform&&this.transform._localID!==this.transform._currentLocalID||this.x!==this.xprev||this.y!==this.yprev){delete this._shape;const e=this.$chashes||[];this.$chashes=ct.place.getHashes(this);for(const t of e)-1===this.$chashes.indexOf(t)&&ct.place.grid[t].splice(ct.place.grid[t].indexOf(this),1);for(const t of this.$chashes)-1===e.indexOf(t)&&(t in ct.place.grid?ct.place.grid[t].push(this):ct.place.grid[t]=[this])}},ct.types.onDestroy=function(){if(this.$chashes)for(const e of this.$chashes)ct.place.grid[e].splice(ct.place.grid[e].indexOf(this),1)}}(ct);class Background extends PIXI.TilingSprite{constructor(e,t=0,s=0,o={}){var y=ct.camera.width,c=ct.camera.height;const x=e instanceof PIXI.Texture?e:ct.res.getTexture(e,t||0);"no-repeat"!==o.repeat&&"repeat-x"!==o.repeat||(c=x.height*(o.scaleY||1)),"no-repeat"!==o.repeat&&"repeat-y"!==o.repeat||(y=x.width*(o.scaleX||1)),super(x,y,c),ct.backgrounds.list[e]||(ct.backgrounds.list[e]=[]),ct.backgrounds.list[e].push(this),ct.types.list.BACKGROUND.push(this),ct.stack.push(this),this.anchor.x=this.anchor.y=0,this.depth=s,this.shiftX=this.shiftY=this.movementX=this.movementY=0,this.parallaxX=this.parallaxY=1,o&&ct.u.extend(this,o),this.scaleX&&(this.tileScale.x=Number(this.scaleX)),this.scaleY&&(this.tileScale.y=Number(this.scaleY)),this.reposition()}onStep(){this.shiftX+=ct.delta*this.movementX,this.shiftY+=ct.delta*this.movementY}reposition(){const e=this.isUi?{x:0,y:0,width:ct.camera.width,height:ct.camera.height}:ct.camera.getBoundingBox();"repeat-x"!==this.repeat&&"no-repeat"!==this.repeat?(this.y=e.y,this.tilePosition.y=-this.y*this.parallaxY+this.shiftY,this.height=e.height+1):this.y=this.shiftY+e.y*(this.parallaxY-1),"repeat-y"!==this.repeat&&"no-repeat"!==this.repeat?(this.x=e.x,this.tilePosition.x=-this.x*this.parallaxX+this.shiftX,this.width=e.width+1):this.x=this.shiftX+e.x*(this.parallaxX-1)}onDraw(){this.reposition()}static onCreate(){}static onDestroy(){}get isUi(){return!!this.parent&&Boolean(this.parent.isUi)}}ct.backgrounds={Background:Background,list:{},add(e,t=0,s=0,o=ct.room){if(!e)throw new Error("[ct.backgrounds] The texName argument is required.");const y=new Background(e,t,s);return o.addChild(y),y}},ct.types.Background=Background;class Tilemap extends PIXI.Container{constructor(e){if(super(),this.pixiTiles=[],e){this.depth=e.depth,this.tiles=e.tiles.map((e=>({...e}))),e.extends&&Object.assign(this,e.extends);for(let t=0,s=e.tiles.length;t<s;t++){const s=ct.res.getTexture(e.tiles[t].texture),o=new PIXI.Sprite(s[e.tiles[t].frame]);o.anchor.x=o.anchor.y=0,this.addChild(o),this.pixiTiles.push(o),o.x=e.tiles[t].x,o.y=e.tiles[t].y}}else this.tiles=[];ct.types.list.TILEMAP.push(this)}addTile(e,t,s,o=0){if(this.cached)throw new Error("[ct.tiles] Adding tiles to cached tilemaps is forbidden. Create a new tilemap, or add tiles before caching the tilemap.");const y=ct.res.getTexture(e,o),c=new PIXI.Sprite(y);return c.x=t,c.y=s,this.tiles.push({texture:e,frame:o,x:t,y:s,width:c.width,height:c.height}),this.addChild(c),this.pixiTiles.push(c),c}cache(e=1024){if(this.cached)throw new Error("[ct.tiles] Attempt to cache an already cached tilemap.");const t=this.getLocalBounds(),s=Math.ceil(t.width/e),o=Math.ceil(t.height/e);this.cells=[];for(let e=0;e<o;e++)for(let e=0;e<s;e++){const e=new PIXI.Container;this.cells.push(e)}for(let o=0,y=this.tiles.length;o<y;o++){const o=this.children[0],y=Math.floor((o.x-t.x)/e),c=Math.floor((o.y-t.y)/e);this.cells[c*s+y].addChild(o)}this.removeChildren();for(let e=0,t=this.cells.length;e<t;e++)0!==this.cells[e].children.length?(this.addChild(this.cells[e]),this.cells[e].cacheAsBitmap=!0):(this.cells.splice(e,1),e--,t--);this.cached=!0}cacheDiamond(e=1024){if(this.cached)throw new Error("[ct.tiles] Attempt to cache an already cached tilemap.");this.cells=[],this.diamondCellMap={};for(let t=0,s=this.tiles.length;t<s;t++){const t=this.children[0],[s,o]=ct.u.rotate(t.x,2*t.y,-45),y=Math.floor(s/e),c=Math.floor(o/e),x=`${y}:${c}`;if(!(x in this.diamondCellMap)){const e=new PIXI.Container;e.chunkX=y,e.chunkY=c,this.diamondCellMap[x]=e,this.cells.push(e)}this.diamondCellMap[x].addChild(t)}this.removeChildren(),this.cells.sort(((e,t)=>{const s=Math.max(e.chunkY,e.chunkX),o=Math.max(t.chunkY,t.chunkX);return s===o?t.chunkX-e.chunkX:s-o}));for(let e=0,t=this.cells.length;e<t;e++)this.addChild(this.cells[e]),this.cells[e].cacheAsBitmap=!0;this.cached=!0}}ct.types.Tilemap=Tilemap,ct.tilemaps={create(e=0){const t=new Tilemap;return t.depth=e,ct.room.addChild(t),t},addTile:(e,t,s,o,y=0)=>e.addTile(t,s,o,y),cache(e,t){e.cache(t)},cacheDiamond(e,t){e.cacheDiamond(t)}};const Camera=function(){class e extends PIXI.DisplayObject{constructor(e,t,s,o){super(),this.follow=this.rotate=!1,this.followX=this.followY=!0,this.targetX=this.x=e,this.targetY=this.y=t,this.z=500,this.width=s||1920,this.height=o||1080,this.shiftX=this.shiftY=this.interpolatedShiftX=this.interpolatedShiftY=0,this.borderX=this.borderY=null,this.drift=0,this.shake=0,this.shakeDecay=5,this.shakeX=this.shakeY=1,this.shakeFrequency=50,this.shakePhase=this.shakePhaseX=this.shakePhaseY=0,this.shakeMax=10,this.getBounds=this.getBoundingBox}get scale(){return this.transform.scale}set scale(e){"number"==typeof e&&(e={x:e,y:e}),this.transform.scale.copyFrom(e)}moveTo(e,t){this.targetX=e,this.targetY=t}teleportTo(e,t){this.targetX=this.x=e,this.targetY=this.y=t,this.shakePhase=this.shakePhaseX=this.shakePhaseY=0,this.interpolatedShiftX=this.shiftX,this.interpolatedShiftY=this.shiftY}update(e){!function(e,t){const s=t/(PIXI.Ticker.shared.maxFPS||60);e.shake-=s*e.shakeDecay,e.shake=Math.max(0,e.shake),e.shakeMax&&(e.shake=Math.min(e.shake,e.shakeMax));const o=s*e.shakeFrequency;e.shakePhase+=o,e.shakePhaseX+=o*(1+.25*Math.sin(.1489*e.shakePhase)),e.shakePhaseY+=o*(1+.25*Math.sin(.1734*e.shakePhase))}(this,e),this.follow&&this.follow.kill&&(this.follow=!1),this.follow&&"x"in this.follow&&"y"in this.follow&&function(e){const t=null===e.borderX?e.width/2:Math.min(e.borderX,e.width/2),s=null===e.borderY?e.height/2:Math.min(e.borderY,e.height/2),o=e.uiToGameCoord(t,s),y=e.uiToGameCoord(e.width-t,e.height-s);e.followX&&(e.follow.x<o[0]-e.interpolatedShiftX?e.targetX=e.follow.x-t+e.width/2:e.follow.x>y[0]-e.interpolatedShiftX&&(e.targetX=e.follow.x+t-e.width/2)),e.followY&&(e.follow.y<o[1]-e.interpolatedShiftY?e.targetY=e.follow.y-s+e.height/2:e.follow.y>y[1]-e.interpolatedShiftY&&(e.targetY=e.follow.y+s-e.height/2))}(this);const t=this.drift?Math.min(1,(1-this.drift)*e):1;this.x=this.targetX*t+this.x*(1-t),this.y=this.targetY*t+this.y*(1-t),this.interpolatedShiftX=this.shiftX*t+this.interpolatedShiftX*(1-t),this.interpolatedShiftY=this.shiftY*t+this.interpolatedShiftY*(1-t),function(e){if(void 0!==e.minX){const t=e.minX+e.width*e.scale.x*.5;e.x=Math.max(t,e.x),e.targetX=Math.max(t,e.targetX)}if(void 0!==e.maxX){const t=e.maxX-e.width*e.scale.x*.5;e.x=Math.min(t,e.x),e.targetX=Math.min(t,e.targetX)}if(void 0!==e.minY){const t=e.minY+e.height*e.scale.y*.5;e.y=Math.max(t,e.y),e.targetY=Math.max(t,e.targetY)}if(void 0!==e.maxY){const t=e.maxY-e.height*e.scale.y*.5;e.y=Math.min(t,e.y),e.targetY=Math.min(t,e.targetY)}}(this),this.x=this.x||0,this.y=this.y||0}get computedX(){const e=(Math.sin(this.shakePhaseX)+.25*Math.sin(3.1846*this.shakePhaseX))/1.25;return this.x+e*this.shake*Math.max(this.width,this.height)/100*this.shakeX+this.interpolatedShiftX}get computedY(){const e=(Math.sin(this.shakePhaseY)+.25*Math.sin(2.8948*this.shakePhaseY))/1.25;return this.y+e*this.shake*Math.max(this.width,this.height)/100*this.shakeY+this.interpolatedShiftY}get left(){return this.computedX-this.width/2*this.scale.x}get top(){return this.computedY-this.height/2*this.scale.y}get right(){return this.computedX+this.width/2*this.scale.x}get bottom(){return this.computedY+this.height/2*this.scale.y}uiToGameCoord(e,t){const s=(e-this.width/2)*this.scale.x,o=(t-this.height/2)*this.scale.y,y=ct.u.rotate(s,o,this.rotation);return[y[0]+this.computedX,y[1]+this.computedY]}gameToUiCoord(e,t){const s=e-this.computedX,o=t-this.computedY,y=ct.u.rotate(s,o,-this.rotation);return[y[0]/this.scale.x+this.width/2,y[1]/this.scale.y+this.height/2]}getTopLeftCorner(){return this.uiToGameCoord(0,0)}getTopRightCorner(){return this.uiToGameCoord(this.width,0)}getBottomLeftCorner(){return this.uiToGameCoord(0,this.height)}getBottomRightCorner(){return this.uiToGameCoord(this.width,this.height)}getBoundingBox(){const e=new PIXI.Bounds,t=this.getTopLeftCorner(),s=this.getTopRightCorner(),o=this.getBottomLeftCorner(),y=this.getBottomRightCorner();return e.addPoint(new PIXI.Point(t[0],t[1])),e.addPoint(new PIXI.Point(s[0],s[1])),e.addPoint(new PIXI.Point(o[0],o[1])),e.addPoint(new PIXI.Point(y[0],y[1])),e.getRectangle()}get rotation(){return this.transform.rotation/Math.PI*-180}set rotation(e){return this.transform.rotation=e*Math.PI/-180,e}contains(e){const t=e.getBounds(!0);return t.right>0&&t.left<this.width*this.scale.x&&t.bottom>0&&t.top<this.width*this.scale.y}realign(e){if(!e.isUi)throw new Error("[ct.camera] An attempt to realing a room that is not in UI space. The room in question is",e);const t=ct.rooms.templates[e.name].width||1,s=ct.rooms.templates[e.name].height||1;for(const o of e.children)"xstart"in o&&!o.skipRealign&&(o.x=o.xstart/t*this.width,o.y=o.ystart/s*this.height)}manageStage(){const e=this.computedX,t=this.computedY,s=1/(isNaN(this.scale.x)?1:this.scale.x),o=1/(isNaN(this.scale.y)?1:this.scale.y);for(const y of ct.stage.children)!y.isUi&&y.pivot&&(y.x=-this.width/2,y.y=-this.height/2,y.pivot.x=e,y.pivot.y=t,y.scale.x=s,y.scale.y=o,y.angle=-this.angle)}}return e}();if(ct.sound||(ct.sound={detect(e){var t=document.createElement("audio");return Boolean(t.canPlayType&&t.canPlayType(e).replace(/no/,""))},init(e,t,s){var o="";ct.sound.mp3&&t.mp3?o=t.mp3:ct.sound.ogg&&t.ogg?o=t.ogg:ct.sound.wav&&t.wav&&(o=t.wav),s=s||{};var y={src:o,direct:document.createElement("audio"),pool:[],poolSize:s.poolSize||5};return""!==o?(ct.res.soundsLoaded++,y.direct.preload=s.music?"metadata":"auto",y.direct.onerror=y.direct.onabort=function(){console.error("[ct.sound] Oh no! We couldn't load "+o+"!"),y.buggy=!0,ct.res.soundsError++,ct.res.soundsLoaded--},y.direct.src=o):(ct.res.soundsError++,y.buggy=!0,console.error("[ct.sound] We couldn't load sound named \""+e+"\" because the browser doesn't support any of proposed formats.")),ct.res.sounds[e]=y,y},spawn(e,t,s){"function"==typeof(t=t||{})&&(s=t);var o=ct.res.sounds[e];if(o.pool.length<o.poolSize){var y=document.createElement("audio");return y.src=o.src,t&&ct.u.ext(y,t),o.pool.push(y),y.addEventListener("ended",(function(e){o.pool.splice(o.pool.indexOf(y),1),s&&s(!0,e)})),y.play(),y}return s&&s(!1),!1},exists:e=>e in ct.res.sounds},ct.sound.wav=ct.sound.detect('audio/wav; codecs="1"'),ct.sound.mp3=ct.sound.detect("audio/mpeg;"),ct.sound.ogg=ct.sound.detect("audio/ogg;")),function(){const e=Symbol("time"),t=Symbol("roomUid"),s=Symbol("timeLeftOriginal"),o=Symbol("promiseResolve"),y=Symbol("promiseReject");class c{constructor(c,x=!1,i=!1){this[t]=ct.room.uid||null,this.name=x&&x.toString(),this.isUi=i,this[e]=0,this[s]=c,this.timeLeft=this[s],this.promise=new Promise(((e,t)=>{this[o]=e,this[y]=t})),this.rejected=!1,this.done=!1,this.settled=!1,ct.timer.timers.add(this)}then(...e){return this.promise.then(...e)}catch(e){return this.promise.catch(e)}get time(){return 1e3*this[e]/ct.speed}set time(t){this[e]=t/1e3*ct.speed}update(){!0!==this.rejected&&!0!==this.done?(this[e]+=this.isUi?ct.deltaUi:ct.delta,ct.room.uid!==this[t]&&null!==this[t]&&this.reject({info:"Room switch",from:"ct.timer"}),0!==this.timeLeft&&(this.timeLeft=this[s]-this.time,this.timeLeft<=0&&this.resolve())):this.remove()}resolve(){this.settled||(this.done=!0,this.settled=!0,this[o](),this.remove())}reject(e){this.settled||(this.rejected=!0,this.settled=!0,this[y](e),this.remove())}remove(){ct.timer.timers.delete(this)}}window.CtTimer=c,ct.timer={timers:new Set,counter:0,add:(e,t=!1)=>new c(e,t,!1),addUi:(e,t=!1)=>new c(e,t,!0),updateTimers(){for(const e of this.timers)e.update()}}}(),document.fonts)for(const e of document.fonts)e.load();
})();